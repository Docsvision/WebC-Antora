
== Полнотекстовый поиск

Пользователь Модуля может осуществлять поиск карточек по содержимому с помощью полнотекстового поиска, который становится возможным при выполнении следующих условий:

* полнотекстовый поиск настроен в {dv};
* данные карточек проиндексированы.

Полнотекстовый поиск карточек может выполняться среди карточек текущей открытой папки или среди всех карточек. Область поиска выбирается в xref:SearchBox.adoc[строке поиска] со следующими условиями:

* на xref:Dashboard.adoc[[.dfn .term]_главной странице_] доступен только режим поиска среди всех карточек;
* на странице папки доступны варианты поиска по всем карточкам, карточкам текущей папки или карточкам папки и её подпапок.

Для выполнения полнотекстового поиска выполните следующие действия:

[[task_mnl_jwf_l3__steps_hnt_lqr_dl]]
. [.ph .cmd]#Введите в строке поиска часть слова или фразу искомого текста.#
. [.ph .cmd]#Выберите область поиска:#
* [.keyword .parmname]_В текущей папке_ – доступен только на страницах [.dfn .term]_стандартных_ или [.dfn .term]_виртуальных_ папок. При выполнении поиска в дочерней папке, поиск в родительской папке выполнен не будет. В поле поиска для данного варианта отображается подсказка: `Искать в текущей папке`.
* [.keyword .parmname]_Включая подпапки_ – доступен только на страницах [.dfn .term]_стандартных_ или [.dfn .term]_виртуальных_ папок, у которых имеются дочерние папки. В поле поиска для данного варианта отображается подсказка: `Искать в текущей папке, включая стандартные подпапки`.
* [.keyword .parmname]_В найденном_ – доступен в папке [.keyword]*Поиск* при наличии ранее найденных карточек в данной папке. В поле поиска для данного варианта отображается подсказка: `Искать среди найденных карточек`.
* [.keyword .parmname]_Везде_ – доступен на всех страницах {wc}а. При выборе данного варианта поиск карточек будет выполняться по всей базе данных. В поле поиска для данного варианта отображается подсказка: `Искать среди всех             карточек`.
+
image::viewarea_search_result_all_base.png[[.fig--title-label]##Рис. 1. ##Полнотекстовый поиск]
. [.ph .cmd]#Нажмите клавишу [.kbd .ph .userinput]`Enter`. Будет выполнен поиск карточек.#
+
* В результатах поиска отображаются только карточки, к которым есть доступ.
* Если в настройках полнотекстового поиска не установлены ограничения на типы карточек, то будет выполнен поиск по всем типам карточкам, иначе только по разрешенным типам.

При отсутствии карточек, удовлетворяющих запросу, в представлении отображается текст: `Нет данных для отображения`.

Поисковый запрос, используемый для поиска по текущей папке или папке с подпапками, сохраняется и будет использован при повторном открытии данной папки.

Для сброса поискового запроса: нажмите кнопку [.ph .uicontrol]*X* в строке поиска, или очистите строку поиска и нажмите клавишу [.ph .uicontrol]*Enter*, или сбросьте настройки папки (см. пункт xref:FlushUserFolderConfig.adoc[Сброс пользовательских настроек]).

Администратор {dv} может настроить полнотекстовый поиск с использованием одной из нескольких систем полнотекстового поиска. В зависимости от системы результаты поиска, а также требования к исходным данным могут отличаться. Например, при поиске с использованием системы Elasticsearch есть следующие особенности:

* может потребоваться ввод большего числа знаков в словах поисковой фразы;
* результаты поиска могут содержать записи, которые не полностью соответствуют поисковой фразе;
* в некоторых вариантах поисковой фразы Elasticsearch может не возвращать результаты.

Также от выбора системы полнотекстового поиска зависит возможность поиска по различным типам файлов:

* при использовании встроенной в Microsoft SQL Server системы поиска: PDF и файлы Microsoft Office;
* при использовании системы полнотекстового поиска «Elasticsearch»: PDF, файлы Microsoft Office (DOCX, DOC, XLSX, XLS, PPTX, PPT, RTF), HTML и TXT.

*На уровень выше:* xref:search.adoc[Поиск карточек]
