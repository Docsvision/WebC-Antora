
== Расширенная настройка

В расширенном варианте настройки параметры размещения Модуля в IIS и данные для подключения Модуля к Docsvision должен будет указать администратор.

Нажмите на кнопку [.ph .uicontrol]*Расширенная* в приветственном окне мастера настройки, чтобы перейти к расширенной настройке Модуля.

Расширенная настройка включает следующие шаги:

. [.ph .cmd]#На странице «Веб-сервис» настраиваются параметры размещения веб-приложения Модуля в IIS:#
* [.ph .uicontrol]*Сайт в IIS* – сайт (должен быть создан администратором), на котором будет размещено веб-приложение Модуля;
* [.ph .uicontrol]*Виртуальная папка* – название папки на выбранном сайте, в которую будет установлено веб-приложение Модуля;
* [.ph .uicontrol]*Папка приложения* – папка с бинарными данными веб-приложения.
+
image::configmaster_site.png[[.fig--title-label]##Рис. 1. ##Страница настроек «Веб-сервис»]
. [.ph .cmd]#Создание в IIS пула приложений для сервера приложений.#
+
Веб-приложение Модуля работает в собственном пуле приложений с (ожидаемым) названием «DocsvisionSitePool». *Модуль не должен работать в одном пуле с системой Docsvision.* При первой установке Модуля данный пул будет создан автоматически.
+
Для создания нового пула приложений в IIS администратор должен будет указать данные учетной записи, от имени которой пул будет запущен.

image::configmaster_pool.png[[.fig--title-label]##Рис. 2. ##Пример заполнения учетных данных пула приложений]
+
Имя пользователя следует указывать в формате «домен\пользователь» (без использования суффиксов UPN). Требования к учетной записи пула приложений смотрите в Приложении xref:RequirementsAppPoolAccount.html[Приложение A. Требования к учетной записи пула приложений].
. [.ph .cmd]#На странице «Базы данных» настраиваются параметры подключения Модуля к платформе Docsvision:#
* [.ph .uicontrol]*Адрес сервера* (Docsvision) – адрес подключения к серверу Docsvision;
* [.ph .uicontrol]*Тенанты* – БД Docsvision, которые подключены к Модулю.
+
image::configmaster_connection.png[[.fig--title-label]##Рис. 3. ##Страница настроек «Базы данных»]
+
[loweralpha]
.. Введите адрес подключения к серверу Docsvision.
+
В зависимости от конфигурации системы Docsvision и формата введённого адреса:

* если введённый адрес соответствует SOAP точке подключения ([.ph .filepath]`http://\{Адрес сервера Docsvision}/DocsVision/StorageServer/StorageServerService.asmx`):
** будет использоваться тип подключения HTTP REST – если установлен модуль «Docsvision 5. Платформа» версии 5.5.2 или выше;
** будет использоваться тип подключения SOAP – если установлен модуль «Docsvision 5. Платформа» версии 5.5.1;
* если введённый адрес соответствует WCF или другой НЕ SOAP точке подключения – будет использоваться тип подключения, соответствующий адресу (WCF, named pipe).
+
Если был указан адрес формата SOAP, при переходе на следующую страницу он будет сокращен до [.ph .filepath]`http://\{Адрес сервера Docsvision}/DocsVision/`; если формата WCF или named pipe – адрес не сокращается.
.. Ознакомьтесь со списком БД, с которыми будет работать Web-клиент.
+
Если нужная БД в списке отсутствует, её можно добавить из Консоли настройки Docsvision при помощи Мастера баз данных (см. [.dfn .term]_Руководство Администратора модуля Платформа_, пункт «Базы данных»).
+
Пользователи Модуля могут работать с несколькими БД. Текущей активной считается БД, псевдоним которой указан в адресной строке до первой точки, например: `http://DocsVisionDB.company/DocsvisionWebClient/#/Dashboard`.
. [.ph .cmd]#На странице «Языки» отметьте языки, которые пользователи смогут выбрать языком интерфейса. Также можно изменить язык интерфейса, который будет использоваться по умолчанию.#
+
image::configmaster_langs.png[[.fig--title-label]##Рис. 4. ##Страница настроек «Языки»]
. [.ph .cmd]#На странице «Решения» выполняется загрузка настроек стандартных карточек в БД Docsvision.#
+
image::configmaster_solutions.png[[.fig--title-label]##Рис. 5. ##Страница настроек «Решения»]

Если БД не содержит Решений, администратор может загрузить стандартные Решения или пропустить загрузку.

* Для загрузки стандартных Решений нажмите кнопку [.ph .uicontrol]*Импортировать стандартные решения*.
* Если загрузка решений пропущена, нужно будет настроить разметки самостоятельно, иначе открытие карточек будет невозможно.

[.dfn .term]_Решения_ загружаются только в выбранную БД. Если к Модулю подключено несколько БД, то [.dfn .term]_решения_ нужно поочередно загрузить во все требуемые базы данных. Это же относится к обновлению Решений.

Нажмите кнопку [.ph .uicontrol]*Далее*, чтобы продолжить настройку.
. [.ph .cmd]#На странице «Виды карточек по умолчанию» настраиваются виды карточек, выбираемых по умолчанию при создании новых карточек соответствующих типов.#
+
image::configmaster_kinds.png[[.fig--title-label]##Рис. 6. ##Страница настроек «Виды карточек по умолчанию»]
+
Администратор может изменить стандартные виды карточек.

Изменение стандартного вида для соответствующего типа выполняется при нажатии кнопки [.ph .uicontrol]*Редактировать*, а для списка – кнопки [.ph .uicontrol]* … *.
. [.ph .cmd]#Последняя страница содержит URL-адрес Web-клиента для работы пользователей.#
. [.ph .cmd]#Выполните xref:task_Post_install.html[действия после установки].#

Изменить настройки Модуля можно в панели управления, функции которой рассмотрены в разделе xref:Administrator_functions.html[Функции администратора].

*На уровень выше:* xref:../topics/task_initial_configuration.html[Первоначальная настройка Web-клиента]
