
== Обновление Web-клиента

[[task_ncx_jmc_mn__checksection3]]
Режим обновления предназначен для установки новой версии Web-клиента без удаления существующей версии.

При обновлении Web-клиента происходит проверка параметра `<LoadLayouts></LoadLayouts>` конфигурационного файла панели управления Web-клиента ([.ph .filepath]`WebClientAdminConsole.config`), расположенного по адресу [.ph .filepath]`%LocalAppData%\DocsVision\WebClientAdminConsole.config`.

Если файл отсутствует или значение `<LoadLayouts>true</LoadLayouts>`, Web-клиент будет обновлён в стандартном режиме с импортом решений в базу данных.

Если значение `<LoadLayouts>false</LoadLayouts>`, при обновлении Web-клиента решения не будут автоматически загружены в базу данных, и администратор должен будет сделать это самостоятельно позднее.

Редактирование конфигурационного файла панели управления ([.ph .filepath]`WebClientAdminConsole.config`) описывается в пункте xref:CreateUpdateConfig.html[Настройка обновления Web-клиента без импорта решений].

Все необходимые для настройки Web-клиента параметры будут получены из файла конфигурации Web-клиента ([.ph .filepath]`web.config`) установленной версии.

[NOTE]
====
[.note__title]#Важное замечание:#

Обратите внимание, что обновление Web-клиента также обновляет файл [.ph .filepath]`web.config`. После обновления конфигурационный файл можно заменить на сохранённую версию. В таком случае в скопированной версии потребуется удалить секцию [.dfn .term]_Databases_. Иначе Web-клиент не запустится.
====

Чтобы обновить версию Web-клиента, выполните следующие действия:

. [.ph .cmd]#xref:task_install_dvextension.html[Установите новую версию серверного расширения «Web-клиент»] без удаления существующей.#
. [.ph .cmd]#xref:task_install_webclient.html[Установите новую версию Web-клиента] без удаления существующей. После завершения установки будет запущен мастер настройки Web-клиента.#
+
image::configMasterInUpdate.png[[.fig--title-label]##Рис. 1. ##Мастер настройки Web-клиента с режимом обновления]
. [.ph .cmd]#Нажмите кнопку [.ph .uicontrol]*Обновление* в окне мастера настройки, чтобы начать процесс обновления конфигурации.#
. [.ph .cmd]#Дождитесь завершения обновления базы данных.#
+
Формат Решений, загруженных в БД по умолчанию, будет обновлен до новой версии. Стандартные Решения в БД по умолчанию будут перезаписаны.
. [#task_ncx_jmc_mn__step_wpp_t4s_zy]#[.ph .cmd]#На последней странице мастера настройки будет показан URL-адрес Модуля для пользователей.##
. [.ph .cmd]#Если Web-клиент функционирует в кластере, выполните инструкцию xref:MakeDvWebToolForCluster.html[Настройка утилиты DVWebTool для работы в кластере]. Также данную инструкцию нужно выполнить, если подключение к Web-клиенту осуществляется через промежуточное устройство и при этом сервер Web-клиента недоступен пользователям по его по его фактическому адресу.#
