
== Подключение пользовательской папки

[NOTE]
====
[.note__title]#Прим.:# Возможность подключения папок отсутствует в мобильной версии.
====

Пользователь может добавить в дерево папок необходимые папки, на которые у него есть права доступа.

Для управления пользовательскими папками:

. [.ph .cmd]#Нажмите на кнопку image:buttons/butt_folder_tree_settings.png[image] в xref:dvwebFolderTree.adoc[[.dfn .term]_основном меню_]. Будет открыто меню настроек папки.#
+
image::foldertree_folder_settings.png[[.fig--title-label]##Рис. 1. ##Настройка папок]
. [.ph .cmd]#Выберите в меню пункт [.ph .uicontrol]*Присоединить папку*.#
+
Появится окно со списком доступных папок.

image::folder_select.png[[.fig--title-label]##Рис. 2. ##Выбор папки]
. [.ph .cmd]#Выберите одну или несколько папок, которые нужно подключить.#
+
Для выбора нескольких папок удерживайте кнопку [.ph .uicontrol]*Ctrl* или [.ph .uicontrol]*Shift*.
. [.ph .cmd]#Нажмите кнопку [.ph .uicontrol]*Выбрать*.#
+
Выбранные папки будут добавлены в раздел [.keyword]*МОИ ПАПКИ* дерева папок.

Отображение дочерних папок зависит от типа подключенной родительской папки:

* дочерние папки стандартных (значок image:buttons/icon_standard.png[image]) и виртуальных (значок image:buttons/icon_virtual.png[image]) папок всегда отображаются;
* дочерние папки папки-делегата (значок image:buttons/icon_delegate.png[image]) отображаются, если в настройках папки включен режим «Показывать подпапки».

[[task_d34_5hm_3j__postreq_prc_cmf_z3b]]
Если подключаемая папка настроена на открытие внешней страницы (вместо представления), должен выполняться ряд условий:

. Если папка настроена на открытие отчета службы Microsoft SQL Server [.keyword]*2016* Reporting Services, в URL-адрес отчета (в настройках папки) нужно добавить параметр `rs:Embed=true` (пример: [.ph .filepath]`http://CompanyReportServer.com/Reports/DocumentsReport?rs:Embed=true`). Если используется Microsoft SQL Server с версией ниже 2016, добавлять указанный параметр не нужно. Также следует учитывать, что для доступа к отчету используются данные пользователя, от имени которого запущен браузер (а не выполнен вход в {wc}).
. Сервер SQL Server Reporting Services и сервер Модуля должны находиться в одном домене.
. Подключаемая страница должна разрешать «встраивание». Открытие папки со страницей, «встраивание» которой запрещено, завершится с ошибкой «Refused to display 'Site' in a frame because it set 'X-Frame-Options' to 'DENY'».
. После изменения URL-адреса в настройках папки нужно перезапустить IIS и повторно зайти в {wc}.

Если подключенная папка содержала подпапки-делегаты, которые были удалены, нужно отключить и повторно подключить папку для обновления структуры папок.

*На уровень выше:* xref:FolderCommonOperations.adoc[Общие операции с папками]
