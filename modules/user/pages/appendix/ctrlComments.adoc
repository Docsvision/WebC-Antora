= Комментарии

Компонент `_Комментарии_` используется для обмена информацией между сотрудниками при работе над заданиями.

.Пример обсуждения в карточке с помощью компонента "Комментарии"
image::comments.png[Пример обсуждения в карточке с помощью компонента "Комментарии"]

Комментарии сортируются по дате добавления, новые комментарии отображаются в конце списка с указанием автора и времени добавления. Голубым цветом выделяются комментарии текущего пользователя.

Старые комментарии могут быть скрыты. В этом случае будет показана ссылка _Показать предыдущие комментарии_ для просмотра скрытых комментариев.

== Добавление комментария

Чтобы добавить комментарий, введите его в поле `Введите комментарий` и нажмите клавишу kbd:[Enter] или кнопку image:buttons/addComment.png[Отправить]. Чтобы перейти на новую строку в многострочном комментарии, используйте сочетание клавиш kbd:[Ctrl + Enter] или kbd:[Shift + Enter]. Чтобы очистить содержимоге поля ввода, нажмите клавишу kbd:[Esc].

== Изменение комментария

Пользователь может изменить комментарий при наличии достаточных прав доступа. Нажмите кнопку image:buttons/comment_edit.png[Редактировать] над строкой комментария, чтобы перейти к его редактированию.

== Удаление комментария

Для удаления комментария требуются права на данную операцию. Нажмите кнопку image:buttons/delete_comment.png[Урна] над строкой комментария, чтобы удалить его. Текст удаленного комментария меняется на `Комментарий был удален. Восстановить`. До обновления страницы удаленный комментарий можно восстановить щелчком по ссылке _Восстановить_.

[#experimental]
== Экспериментальные функции для комментариев

Функция `Использовать HTML редактор` открывает возможность форматирования текста и упоминания сотрудников.

[IMPORTANT]
====
Возможности форматирования комментариев и упоминания сотрудников доступны, только если xref:admin:experimentComments.adoc[включена экспериментальная функция] _Контрол комментарии с html редактором_ и xref:layouts:ctrl/special/comments.adoc#html[активировано свойство] в программе {kvr}.
====

=== Упоминания других сотрудников в комментарии

Чтобы упомянуть пользователя, введите символ `@` и начните вводить ФИО сотрудника. Чтобы упомянуть нескольких сотрудников, введите символ `@` несколько раз.

.Комментарии с экспериментальным HTML-редактором
image:ExperimentalComments.png[Комментарии с экспериментальным HTML-редактором]

Сотруднику не будет уведомлен о том, что его упомянули по электронной почте, данная функциональность должна быть настроена администратором модуля при помощи бизнес-процесса или иных инструментов.

=== Форматирование комментариев

Функция добавляет возможности редактировать комментарии в процессе ввода. Если выделить текст комментария, появится всплывающая  панель форматирования с набором инструментов.

[cols="~,~",frame="none",grid="none"]
|===
|image:buttons/textAreaPanelBackcolor.png[Цвет фона]
|Устанавливает цвет выделения текста.

|image:buttons/textAreaPanelNotI.png[Жирный, подчёркивание]
|Устанавливает стиль начертания.

|image:buttons/textAreaPanelClean.png[Ластик]
|Сбрасывает настройки стиля для выбранного текста.

|image:buttons/textAreaPanelUL.png[Маркированный список]
|Добавляет маркированный список.

|image:buttons/textAreaPanelList.png[Добавить список]
|Добавляет маркированный/нумерованный список.

|image:buttons/textAreaPanelParagraph.png[Выравнивание]
|Устанавливает способ выравнивания текста; добавляет отступы.

|image:buttons/textAreaPanelTable.png[Добавить таблицу]
|Добавляет таблицу.

|image:buttons/textAreaPanelLinkImg.png[Ссылка, изображение]
|Добавляет ссылку на внешний ресурс или изображение с внешнего ресурса.

|image:buttons/textAreaPanelCode.png[Ввод в HTML]
|Переключает редактор в режим ввода исходного (HTML) кода.
|===

include::ctrlText.adoc[tags=IE]
