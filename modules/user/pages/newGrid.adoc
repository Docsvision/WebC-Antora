= Новый грид в представлениях

Новый грид, ранее доступный как xref:admin:experimentGrid.adoc[экспериментальная функция], стал доступен для всех пользователей на компьютерах и планшетах. В мобильной версии новый грид представлен xref:ribbon.adoc[лентой].

Новый грид заменяет старый вид представления. Старый вид представления остаётся доступным при определённых условиях, например, при использовании Internet Explorer.

include::partial$excerpts.adoc[tags=gridSaved]

== Функциональные возможности нового грида

Новый грид предоставляет функции настройки представления разметок. Функции можно вызвать с панели инструментов или из <<contextMenu,контекстного меню>>. На компьютерах контекстное меню вызывается правой кнопкой мыши, на планшетах -- долгим нажатием.

=== Строки

Каждая строка грида -- отдельная карточка. Перед каждой строкой отображается флаг, который можно установить. Если флаг установлен, значит строка (карточка) выбрана.

По умолчанию непрочитанные карточки выделяются синим цветом. Администратор может настроить свой цвет или добавить дополнительные цвета для других состояний. Инструкция по настройке цвета представления приведена в руководстве по настройке {dv}.

=== Колонки

Информация о карточке (тип, название, автор, статус) отображается в отдельных колонках. Наведите курсор мыши на правую границу колонки, чтобы изменить её ширину.

В версии для планшетов изменить размер колонки можно долгим удержанием пальца на её границе.

Дробные и целые числовые значения в таблице нового грида выравниваются по правому краю.

=== Панель инструментов

Управлять новым гридом можно с панели инструментов грида (toolbar). Ширина панели управления регулируется шириной грида. Панель управления отображает следующие действия, доступные для грида:

CAUTION: Доступность действий определяется флагами для элемента управления `_Тулбар папки_`. Когда флаги в программе {kvr} неактивны, кнопки на панели инструментов не отображаются.

====
Здесь будет список доступных действий, включая переключатель на режим xref:ribbon.adoc[ленты].
====

=== Группировка

Если перетащить заголовок колонки на панель инструментов, содержимое колонки будет сгруппировано.

IMPORTANT: Функции группировки и фильтрации недоступны в представлении дайджест.

=== Фильтрация

Функция фильтрации (Отфильтровать по значению) позволяет ограничить число отображаемых карточек.

Доступность функции регулируется свойством xref:layouts:ctrl/folderComponents/newGridControls.adoc#filter[Фильтрация] ЭУ _folderGrid/Карточки папки_.

Чтобы активировать фильтр в представлении, нажмите на кнопку image:buttons/filterButton.png[Фильтр], введите значение фильтра и выберите *Применить*. Чтобы сбросить фильтр, нажмите на кнопку ещё раз и выберите *Очистить*.

=== Сортировка

Сортировка в гриде осуществляется по данным колонок в алфавитном порядке, от меньшего числа к большему. Порядок может быть инвертирован нажатием на кнопку image:buttons/gridSort.png[стрелочки].

=== Групповые операции

Новый грид поддерживает работу с групповыми операциями.

.Доступные групповые операции нового грида:
- Прочитать.
- Копировать.
- Переместить.
- Удалить ярлыки карточек.
- Групповое делегирование.

Панель групповых операций становится активной, когда установлен флаг слева от заголовка карточки. Панель может быть раскрыта или свёрнута до одной строки кнопкой
image:buttons/groupOperations-16298104537621.png[Треугольник].

TIP: В браузере Internet Explorer панель скрывается не до конца.

Если групповые операции недоступны, выводится соответствующее сообщение. Сообщение может быть изменено в программе {kvr}, в свойстве xref:layouts:ctrl/folderComponents/newGridControls.adoc#notAvailableMessage[Текст, если нет групповых операций].

=== Количество карточек

В папках может отображаться количество карточек. В обычных условиях отображается абсолютное число карточек в папке. Например, 100. Если включена постраничная проверка прав в представлении, отображается абсолютное число карточек с плюсом. Например, 100+. Если в представлении включен фильтр или группировка, отображается число сгруппированных карточек. Например, 50, если после группировки или фильтрации осталось 50 карточек. Фильтрация, группировка и постраничная проверка прав могут быть скомбинированы.

TIP: Количество карточек отображается, если активно свойство xref:layouts:ctrl/folderComponents/newGridControls.adoc#folderSize[Размер папки].

Новый грид отслеживает изменения в папке. Если в папке появились новые карточки, при переходе в папку пользователь увидит сообщение "В текущей папке есть новые непрочитанные карточки!". У пользователя есть выбор: показать новые данные либо продолжить работать с ранее полученными.

[#contextMenu]
=== Контекстное меню

При нажатии правой кнопкой мыши в режиме ПК и долгом нажатии пальца в режиме планшета в области грида вызывается контекстное меню. Контекстное меню доступно, когда активно свойство xref:layouts:ctrl/folderComponents/newGridControls.adoc#contextMenu[Сontext menu] для ЭУ _folderGrid/Карточки папки_.

Функции контекстного меню частично дублируют функции панели инструментов. Пользователь может выбрать, что ему удобнее использовать: панель инструментов или контекстное меню.

.Функции, доступные из контекстного меню:
- Отфильтровать по значению.
- Сгруппировать по столбцу.
- Cкопировать адрес ссылки.
- Cкопировать текст ячейки.
- Открыть.
- Открыть в новой вкладке.
- Открыть в новом окне.

// Вынести в отдельный файл
== Настройка внешнего вида

Каждый пользователь может настроить внешний вид грида. Окно настроек вызывается с панели инструментов и позволяет настроить:

* Представление.
* Видимость.
* Расположение столбцов.
* Перенос строк.

// Подумать, стоит ли вообще использовать
== Поиск в папках

Новый грид поддерживает поиск в папках. Если настроен полнотекстовый поиск, доступны следующие области поиска: в текущей папке, в текущей папке и подпапках, в найденном, везде. В некоторых локациях количество доступных областей поиска может быть ограничено.
