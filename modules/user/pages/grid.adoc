= Новый грид в представлениях

Новый грид стал доступен для всех пользователей на компьютерах и планшетах. В мобильной версии новый грид по умолчанию представлен xref:ribbon.adoc[лентой].

Новый грид заменяет старый вид представления. Старый вид представления остаётся доступным при определённых условиях, например, при использовании Internet Explorer.

include::partial$excerpts.adoc[tags=gridSaved]

Пользовательские настройки грида сохраняются для текущего пользователя в текущей папке с текущим представлением до тех пор, пока не будут очищены нажатием на кнопку *Сбросить настройки* на xref:grid-toolbar.adoc[панели управления].

.Кнопка "Сбросить настройки"
image::reset-grid-settings.png[Кнопка "Сбросить настройки"]

== Функциональные возможности нового грида

Новый грид предоставляет функции настройки представления разметок. Функции можно вызвать с <<toolbar,панели инструментов>> или из <<contextMenu,контекстного меню>>. На компьютерах контекстное меню вызывается правой кнопкой мыши, на планшетах -- долгим касанием.

=== Строки

Каждая строка грида -- отдельная карточка. Перед каждой строкой отображается флаг, который можно установить. Если флаг установлен, значит строка (карточка) выбрана.

Если установит флаг в заголовке колонки с флагами, будут выбраны все карточки в папке.

.Выбрать все карточки
image::grid-select-all.png[Выбрать все карточки]

По умолчанию непрочитанные карточки выделяются синим цветом. Администратор может настроить свой цвет или добавить дополнительные цвета для других состояний. Инструкция по настройке цвета представления приведена в руководстве по настройке {dv}.

//Нет страниц, подгрузка, сделать много карточек

=== Колонки

Информация о карточке (тип, название, автор, статус и т.д.) отображается в отдельных колонках. Наведите курсор мыши на правую границу колонки, чтобы изменить её ширину.

.Регулировка ширины колонки "Подготовил"
image::grid-col-width.png[Регулировка ширины колонки "Подготовил"]

В версии для планшетов изменить размер колонки можно долгим удержанием пальца на её границе.

Дробные и целые числовые значения в таблице грида выравниваются по правому краю колонки.

.Выраванивание числовых значений
image::grid-numbers.png[Выраванивание числовых значений]

=== Автоматическое обновление папки

Если в папке включено автообновление данных, вы можете продолжить работать с отображаемыми данными или обновить представление, чтобы показать новые карточки. Если в папке появились новые непрочитанные карточки, появляется следующее уведомление:

.Есть новые непрочитанные карточки
image::auto-update.png[Есть новые непрочитанные карточки]

=== Выделение строк цветом

Если в РМА настроено выделение строк представления цветом, строки грида также будут выделяться цветом.

Непрочитанные карточки выделяются цветом без дополнительных настроек.

.Выделение непрочитанных карточек
image::grid-highlight.png[Выделение непрочитанных карточек]

[#toolbar]
=== Панель инструментов

xref:grid-toolbar.adoc[Панель инструментов грида] (toolbar) предоставляет следующие функции:

- Группировка и индикация количества карточек.
- Обновить данные представления.
- Переключение режима грид -- xref:ribbon.adoc[лента].
- Прочитать все карточки в папке.
- Экспорт представления в Excel.
- Сбросить пользовательские настройки.
- Изменить пользовательские настройки, включая:
* Используемое представление.
* Отображение и порядок колонок.
* Перенос или обрезание строк.

=== Группировка

Если перетащить заголовок колонки на панель инструментов, содержимое колонки будет xref:grid-group.adoc[сгруппировано].

=== Фильтрация

xref:grid-filter.adoc[Фильтр] можно применить нажатием кнопки image:buttons/filter.png[Фильтр] в заголовке колонки.

=== Сортировка

xref:grid-sort.adoc[Сортировка] в гриде осуществляется по данным колонок в алфавитном порядке, от меньшего числа к большему. Порядок может быть инвертирован нажатием на кнопку image:buttons/gridSort.png[Стрелка вниз].

=== Групповые операции

Новый грид поддерживает работу с xref:grid-batch.adoc[групповыми операциями].

.Доступные групповые операции нового грида:
- Прочитать.
- Копировать ярлык карточки.
- Переместить ярлык карточки.
- Удалить ярлык карточки.
- Групповое делегирование.

Панель групповых операций становится активной, когда установлен флаг слева от заголовка карточки. Если групповых операций слишком много, панель можно минимизировать кнопкой
image:buttons/groupOperations-16298104537621.png[Треугольник].

NOTE: В браузере Internet Explorer панель скрывается не до конца.

=== Количество карточек

В папках может отображаться количество карточек. В обычных условиях отображается абсолютное число карточек в папке. Например, 100. Если включена постраничная проверка прав в представлении, отображается абсолютное число карточек с плюсом. Например, 100+. Если в представлении включен фильтр или группировка, отображается число сгруппированных карточек. Фильтрация, группировка и постраничная проверка прав могут быть скомбинированы.

Если в папке настроено автоматическое обновление и система определяет, что в папке есть новые карточки, выводится сообщение "В текущей папке есть новые непрочитанные карточки!". Можно обновить содержимое папки, чтобы показать новые данные, или продолжить работу без обновления.

[#contextMenu]
=== Контекстное меню

При нажатии правой кнопкой мыши в режиме ПК и долгом нажатии пальца в режиме планшета в области грида вызывается контекстное меню. Контекстное меню доступно, когда активно свойство xref:layouts:ctrl/folderComponents/folderGrid.adoc#context[Контекстное меню] для ЭУ `_Карточки папки_`.

Функции контекстного меню частично дублируют функции панели инструментов. Пользователь может выбрать, что ему удобнее использовать: панель инструментов или контекстное меню.

.Функции, доступные из контекстного меню:
- Отфильтровать по значению.
- Сгруппировать по столбцу.
- Cкопировать адрес ссылки.
- Cкопировать текст ячейки.
- Открыть.
- Открыть в новой вкладке.
- Открыть в новом окне.

== Поиск в папках

Новый грид поддерживает xref:search.adoc[поиск] в папках. Если настроен полнотекстовый поиск, доступны следующие области поиска:

- В текущей папке.
- В текущей папке и подпапках.
- В найденном.
- Везде.

В некоторых локациях количество доступных областей поиска может быть ограничено.
