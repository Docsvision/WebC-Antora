
== Проверка уникальности Документа

При настройке {wc}а и системы {dv} для карточек Документ может быть включена проверка уникальности введённых данных: вводимая информация будет проверяться на совпадение с другими документами.

В случае нарушения уникальности будет выдано предупреждение, а также, в зависимости от настроек, заблокирована возможность сохранения карточки и/или изменения её состояния.

[NOTE]
====
[.note__title]#Note:# По умолчанию уникальность атрибутов проверяется только при создании входящего документа. Для других видов документов проверка может быть включена при настройке {wc}а.
====

Если проверка уникальности включена и в карточке обнаружены данные, нарушающие уникальность:

. Неуникальные атрибуты выделяются цветом (после ввода значения).
+
image::uniquenessCheck.png[[.fig--title-label]##Figure 1. ##Комбинация значений (отправитель, номер и дата отправления документа) нарушает уникальность документа]
. В карточке появится значок image:uniquenessCheckIco.png[image] (расположение определяется при настройке {wc}а.), при щелчке по которому будет показан список нарушений:
+
image::uniquenessCheckResult.png[[.fig--title-label]##Figure 2. ##Список конфликтующих карточек и атрибутов]
+
В списке указываются карточки, с которыми конфликтует текущая, а также нарушающие уникальность атрибуты карточки. Если уникальность нарушают поля, не отображаемые в карточке, они также будут указаны в данном списке.
+
Для просмотра информации о карточке, с которой конфликтует текущая, щелкните по значку image:buttons/showInfo.png[Информация]; для перехода к карточке щелкните по её названию.
. Если включена блокировка сохранения карточек с нарушенной уникальностью, при сохранении будет показано со списком нарушений, сохранение отменено.
+
image::uniquenessCheckResultAndSave.png[[.fig--title-label]##Figure 3. ##Список нарушений уникальности при сохранении карточки без блокировки сохранения]
+
Необходимо вернуться к редактированию карточки или изменить атрибуты карточки, из-за которой нарушается уникальность текущей.
+
Если блокировка сохранения выключена, при сохранении неуникальной карточки также будет преложено исправить её или продолжить сохранение (команда *Создать карточку с совпадающими атрибутами*).

[NOTE]
====
[.note__title]#Important:# Проверка уникальности может выполняться некорректно для значений элемента xref:Text.adoc[Текст], если для данного элемента включен режим расширенного редактирования.
====
