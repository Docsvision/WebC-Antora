= Панель инструментов нового грида

Панель инструментов нового отображает настройки грида, доступные пользователю. Настройки применяются и сохраняются для каждого пользователя индивидуально и сохраняются для текущего пользователя в текущем представлении текущей папки. Не все настройки могут быть доступны пользователям. Доступность настроек зависит от того, установлены ли свойства в ЭУ xref:layouts:ctrl/folderComponents/folderGrid_FolderGridToolbar.adoc["Тулбар папки"].

Панель инструментов располагается над заголовками колонок и растянута на всю ширину таблицы грида.

.Панель инструментов нового грида
image:grid-toolbar.png[Панель инструментов нового грида]

[#group]
== Группировки и размер папки

Крайняя левая кнопка на панели инструментов позволяет отобразить или скрыть дополнительную область, позволяющую применить xref:grid-group.adoc[группировки].

В области "Размер папки" отображается общее количество карточек в папке в виде `Показано X`.

include::partial$excerpts.adoc[tags=count]

.Кнопка отображения области группировки и размер папки
image::folder-size.png[Кнопка отображения области группировки и размер папки]

[#refresh]
== Обновить

Кнопка для обновления содержимого таблицы: image:buttons/refreshPlain.png[Стрелки в кольце]. Нажатие на кнопку посылает запрос данных с  сервера. Если в папке появились новые карточки, они будут отображены в представлении.

[#mode]
== Лента -- грид

Кнопки в середине панели инструментов являются переключателем режим отображения представления: image:buttons/grid-ribbon.png[Таблица-список]. Для устройств с большим экраном (компьютер, ноутбук, планшет) по умолчанию выбирается режим xref:grid.adoc["Грид"] (левая кнопка), для мобильных телефонов -- xref:grid-ribbon.adoc["Лента"].

[#read]
== Прочитать всё

Кнопка прочитать всё -- image:buttons/read-all.png[Двойная галочка]  позволяет прочитать все карточки в папке одним нажатием кнопки.

[#export]
== Экспорт в Excel

Кнопка image:buttons/excel-export.png[Иконка Excel] Позволяет экспортировать представление таблицы с данными в Excel.

При экспорте будут выгружены все страницы представления (не только текущая).

.Следующие настройки представления будут включены в экспортируемый файл:
- Установленная сортировка.
- Условия фильтрации (экспортируются только отфильтрованные строки).
- Группировка.
- Правила заливки.
- Прочие пользовательские настройки.

****
Сформированный файл `.xlsx` загружается на компьютер пользователя в стандартный каталог загрузки веб-браузера.

Название файла соответствует названию представления, для которого была вызвана функция экспорта данных.
****

Если пользователь нажимает кнопку image:buttons/reset-grid.png[Кольцевая стрелка вокруг переключателей] (Cбросить настройки), все пользовательские настройки представления будут сброшены.

[#reset]
== Сбросить настройки

Кнопка image:buttons/reset-grid.png[Кольцевая стрелка вокруг переключателей] сбрасывает все пользовательские настройки для данного представления на настройки по умолчанию.

.Следующие настройки будут сброшены при нажатии на кнопку:
- Видимость колонок.
- Порядок колонок.
- Перенос строк.
- Сортировки.
- Группировки.
- Ширина колонок.

[#settings]
== Настройки

Кнопка image:buttons/grid-settings.png[Настройки] позволяет настроить внешний вид таблицы грида: представление, видимость и расположение колонок, перенос строк. Изменить возможности окна настроек через программу {kvr} нельзя. Все настройки сохраняются только для текущего пользователя в текущей папке с текущим представлением.

.Окно настроек грида
image::grid-settings-window.png[Окно настроек грида]

Представление::
По умолчанию используется представление настроенное в платформе для данной папки. Если представление не настроено, по умолчанию используется дайджест. Выбор доступных представлений определяется настройками {wincl} или РМА в свойствах данной папки.
+
.Настройки представления в гриде
image::grid-settings-views.png[Настройки представления в гриде]
+
Представление по умолчанию отмечено маркером. Представление, выбранное пользователем, отмечено жирным шрифтом и знаком `>`.

Колонки::
По умолчанию для выбранного представления выводятся все колонки (установлены все флаги). Чтобы скрыть колонку, снимите флаг слева от нужного названия.
+
.Настройки колонок в гриде
image::grid-settings-columns.png[Настройки колонок в гриде]
+
Колонки отображаются в порядке, определённом по умолчанию. Чтобы изменить порядок колонок, наведите курсор на заголовок колонки, нажмите левой кнопкой и перетащите его выше или ниже.

Строки::
+
.Настройки строк в гриде
image::grid-settings-wrap.png[Настройки строк в гриде]
+
В зависимости от выбранного значения, длинные строки в гриде буду переноситься или обрезаться. Перенос строк отключен по умолчанию.
+
.Строки переносятся
image::wrap-yes.png[Строки переносятся]
+
Когда перенос строк отключен, при наведении курсора на строку появляется полный текст во всплывающей подсказке.
+
.Строки обрезаются
image::wrap-no.png[Строки обрезаются]

== Настройки и другие функции грида

Нажмите применить, чтобы сохранить новые настройки.

После применения новых настроек сохраняются группировки, фильтры и сортировка, выполненные до изменения настроек.

Группировки, фильтры и сортировка по колонкам остаются прежними, даже если колонки скрыты из представления.