
== Обновление {wc}а

[[task_ncx_jmc_mn__checksection3]]
Режим обновления предназначен для установки новой версии {wc}а без удаления существующей версии.

При обновлении {wc}а происходит проверка параметра `<LoadLayouts></LoadLayouts>` конфигурационного файла панели управления {wc}а ([.ph .filepath]`WebClientAdminConsole.config`), расположенного по адресу [.ph .filepath]`%LocalAppData%Docsvision\WebClientAdminConsole.config`.

Если файл отсутствует или значение `<LoadLayouts>true</LoadLayouts>`, {wc} будет обновлён в стандартном режиме с импортом решений в базу данных.

Если значение `<LoadLayouts>false</LoadLayouts>`, при обновлении {wc}а решения не будут автоматически загружены в базу данных, и администратор должен будет сделать это самостоятельно позднее.

Редактирование конфигурационного файла панели управления ([.ph .filepath]`WebClientAdminConsole.config`) описывается в пункте xref:CreateUpdateConfig.adoc[Настройка обновления {wc}а без импорта решений].

Все необходимые для настройки {wc}а параметры будут получены из файла конфигурации {wc}а ([.ph .filepath]`web.config`) установленной версии.

[NOTE]
====
[.note__title]#Важное замечание:#

Обратите внимание, что обновление {wc}а также обновляет файл [.ph .filepath]`web.config`. После обновления конфигурационный файл можно заменить на сохранённую версию. В таком случае в скопированной версии потребуется удалить секцию [.dfn .term]_Databases_. Иначе {wc} не запустится.
====

Чтобы обновить версию {wc}а, выполните следующие действия:

. [.ph .cmd]#xref:task_install_dvextension.adoc[Установите новую версию серверного расширения {wc}] без удаления существующей.#
. [.ph .cmd]#xref:task_install_webclient.adoc[Установите новую версию {wc}а] без удаления существующей. После завершения установки будет запущен мастер настройки {wc}а.#
+
image::configMasterInUpdate.png[[.fig--title-label]##Рис. 1. ##Мастер настройки {wc}а с режимом обновления]
. [.ph .cmd]#Нажмите кнопку [.ph .uicontrol]*Обновление* в окне мастера настройки, чтобы начать процесс обновления конфигурации.#
. [.ph .cmd]#Дождитесь завершения обновления базы данных.#
+
Формат Решений, загруженных в БД по умолчанию, будет обновлен до новой версии. Стандартные Решения в БД по умолчанию будут перезаписаны.
. [#task_ncx_jmc_mn__step_wpp_t4s_zy]#[.ph .cmd]#На последней странице мастера настройки будет показан URL-адрес Модуля для пользователей.##
. [.ph .cmd]#Если {wc} функционирует в кластере, выполните инструкцию xref:MakeDVWebToolForCluster.adoc[Настройка утилиты DVWebTool для работы в кластере]. Также данную инструкцию нужно выполнить, если подключение к {wc}у осуществляется через промежуточное устройство и при этом сервер {wc}а недоступен пользователям по его по его фактическому адресу.#
