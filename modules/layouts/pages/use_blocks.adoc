
== Настройка разметки для использования на различных типах устройств

Как уже было сказано в начале раздела, {kvr} предоставляет возможность разрабатывать разметки, зависимые от типа пользовательского устройства. Это может быть сделано двумя способами:

* для каждого типа устройств (стандартным образом) разрабатывается собственная разметка, условия выбора разметок настраиваются с зависимостью от типа устройства. Инструкция по настройке условий выбора разметок приведена в пункте xref:sc_conditions.adoc[Настройка условий выбора разметок];
* для всех типов устройств разрабатывается общая разметка, условия выбора разметок настраиваются без зависимости от типа устройства, но элементы управления разметки настраиваются с зависимостью от типа устройств. Данный способ рассмотрен далее.

=== Адаптивные свойства

Некоторые свойства элементов управления могут быть настроены с зависимостью от типа клиентского устройства. Например, свойство «Видимость» может принимать значение TRUE (показывать) при работе на персональном компьютере, но FALSE (скрывать) при работе на смартфоне или планшете. Далее такие свойства элементов управления будем называть [.dfn .term]_адаптивными_.

[NOTE]
====
[.note__title]#Прим.:# В разделе xref:standartcontrols_library.adoc[Стандартные элементы управления] адаптивные свойства элементов управления отмечены тегом [.dfn .term]_Адаптивный_.
====

Комбинируя возможности различных адаптивных свойств элементов управления можно добиться оптимального отображения разметки на разных типах устройствах.

=== Элемент управления «Блок»

Элемент управления xref:Control_block.adoc[Блок] обладает наиболее полным набором адаптивных свойств, которые позволяют:

* определять относительную ширину [.dfn .term]_Блока_ (и его содержимого) для разных типов устройств;
* скрывать содержимое [.dfn .term]_Блока_ на определенных устройствах;
* переопределять порядок отображения [.dfn .term]_Блоков_ внутри родительского [.dfn .term]_Блока_;
* определять способ выравнивания ЭУ на конкретном типе устройств и др.

Например, варьируя относительную ширину блока (ширина относительно родительского блока) можно установить значение 100% для мобильных устройств и 60% персонального компьютера.

image::dl_ui_blockinadaptivitylayout.png[[.fig--title-label]##Рис. 1. ##Пример настройки относительной ширины Блока для разных типов устройств]

При такой настройке содержимое блока на мобильном устройстве займет всю строку разметки.

image::sample_adaptivitylayout_percent_phone.png[[.fig--title-label]##Рис. 2. ##Пример размещения пары Блоков с относительной шириной 100% в карточке, открытой на телефоне]

На персональном компьютере содержимое блока займет часть разметки. При этом следующей блок может быть размещен последовательно с первым, если их суммарная относительная ширина меньше или равна 100%.

image::sample_adaptivitylayout_percent.png[[.fig--title-label]##Рис. 3. ##Пример размещения пары Блоков в карточке, открытой на персональном компьютере]

Порядок отображения блоков в разметке также является адаптивным свойством, поэтому возможно настроить порядок отображения блоков на разметке с зависимостью от типа устройства.

image::sample_layout_block_standartorder.png[[.fig--title-label]##Рис. 4. ##Стандартная последовательность отображения блоков в карточке, открытой на персональном компьютере]

image::sample_layout_block_reorder.png[[.fig--title-label]##Рис. 5. ##Измененная последовательность отображения блоков в карточке, открытой на телефоне]

