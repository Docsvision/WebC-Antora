
== Настройка условий выбора разметок

Условия выбора разметки – это правила, по которым из общего списка выбирается разметка, которая должна применяться для данной локации в текущих условиях.

Условия выбора настраиваются на вкладке xref:designerlayouts_conditionstab.html[Условия выбора] рабочей области.

image::dl_ui_conditionslist.png[[.fig--title-label]##Рис. 1. ##Условия выбора разметки]

Выбор разметки осуществляется по следующему алгоритму:

. Определяется список условий, удовлетворяющих заданным критериям. Критерии, по которым определяются условия, зависят от локации, к которой применяется разметка. Стандартный набор критериев включает: Тип устройства (ограничивает использование разметки определенным типом устройства) и Режим (ограничивает использование разметки определенным режимом работы с данными). Для локаций карточек также могут быть критерии: Состояние (карточки), Роль (пользователя) и др.
. Из полученного списка условий выбирается условие с наивысшим приоритетом. Приоритет условия определяется по его порядку в списке: чем меньше порядок, тем выше приоритет.

[[concept_znr_v3z_gx__condition_priority]]
=== Приоритет условия выбора разметки

Условия выбора могут быть составлены таким образом, чтобы для каждой ситуации использования разметки было собственное условие – каждое следующее условие должно содержать критерии, отличные от критериев предыдущих условий. Но в большинстве случаев такая настройка является излишней. Достаточно указать несколько общих условий (например, не учитывающих тип устройства и/или роль пользователя) для разных режимов использования разметки, а также несколько более жестких условий (например, учитывающих состояние карточки). В этом случае, разметка с более мягкими условиями будет использоваться, если более жесткие условия не выполнены. При таком подходе важно правильно настроить порядок проверки условий, чтобы более мягкое условие не было проверено до более жесткого условия, иначе оно не будет выполнено ни в каких ситуациях.

Настройка порядка проверки условий выполняется с помощью кнопок [.ph .uicontrol]*Вверх* / [.ph .uicontrol]*Вниз* на странице Условия выбора. Условия, у которых порядок ниже, будут проверяться первыми.

image::dl_ui_layoutpriority.png[[.fig--title-label]##Рис. 2. ##Порядок проверки условий при выборе разметки]

[[concept_znr_v3z_gx__section_ps3_vtx_rgb]]
=== Группировка условий

Все условия на вкладке «Условия выбора» сгруппированы по Решениям, в которые они входят.

Действующим является только одна группа условий – группа, у которой установлен флаг [.ph .uicontrol]*Активно*. Условия, включенные в другие Решения, не используются.

* *xref:../topics/scenarios_newcondition.html[Добавление условия выбора разметки]* +
* *xref:../topics/scenarios_editcondition.html[Изменение условия выбора разметки]* +
* *xref:../topics/scenarios_deletecondition.html[Удаление условия выбора разметки]* +
* *xref:../topics/sc_conditiondublicate.html[Копирование условия выбора разметки]* +
* *xref:../topics/scenarios_movecondition.html[Изменение порядка условия выбора разметки]* +
* *xref:../topics/ActivateCondition.html[Назначение активной группы условий]* +

*На уровень выше:* xref:../topics/Operations.html[Выполнение операций]
