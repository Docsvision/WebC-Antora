
== Настройка отображения информации о ссылке в элементе управления Ссылки

Элемент управления "Ссылки" состоит из двух блоков: строки меню и таблицы ссылок. В таблице ссылок отображаются: значок вида ссылки, информация о карточке, тип ссылки, кнопка информации о ссылке и кнопка меню команд.

В столбце "Информация о карточке" по умолчанию отображается дайджест карточки. Если требуется, вместо дайджеста можно вывести другую информацию о карточке.

image::links_conf1.png[Элемент управления Ссылки со стандартным методом получения описания ссылок]

Выбор способа формирования строки с информацией о карточке выполняется в настройке `Метод для описания` элемента управления *Ссылки*. Данная настройка может принимать значения:

* "Стандарт" -- в информации о карточке отображается дайджест;
* "Расширение" -- в информации о карточке отображается значение, предоставляемое специальным расширением {wc}а (ссылка на пример расширения приведена в Руководстве программиста);
* "Разметка" -- в информации о карточке отображается значение, формируемое специальной разметкой. Если разметка для формирования ссылки отсутствует, в ссылке будет отображаться дайджест карточки.

Использование последнего варианта рассмотрено далее.

[[LinksLinkDescription__layout]]
. Создайте новую разметку просмотра в локации, соответствующей виду/типу карточек, на которые есть ссылки в таблице ссылок.
+
*Обратите внимание*: разметка настраивается именно для карточек, на которые указывают ссылки. Если у вида/типа карточек не настроена такая разметка, в таблице ссылок строки с информацией о карточках данного вида будут пустыми -- если настройка `Метод для описания` в значении "Разметка".
. Добавьте в разметку требуемые элементы управления и настройте их на получение данных из карточки.
+
Поддерживаются следующие типы дочерних элементов управления: Строка, Метка, Дата/время, Флажок, Раскрывающийся список, Число, Партнер, Подразделение, Подразделение контрагента, Сотрудник, Сотрудники, Строка конструктора справочников, Контейнер строка.
+
Например, добавьте ЭУ *Контейнер строка* с дочерними элементами управления:
* *Строка* -- связанный с секцией "Основная информация", полем "Название";
* *Сотрудник* -- связанный с секцией "Основная информация", полем "Автор".
+
image::linksWithLayout.png[Пример структуры разметки блока информации о карточке]
. Сохраните разметку.
. Добавьте в данную локацию новое условие выбора со следующими свойствами:
* Режим: "Описание";
* Состояние: "Любое";
* Роль: "Любое";
* Тип устройства: "Любое";
* Разметка: созданная разметка.
. Откройте разметку просмотра карточки с элементом управления *Ссылки*, в котором информации о ссылках должны формироваться разметкой.
. В настройках ЭУ *Ссылки* измените значение свойства "Метод для описание" на "Разметка".
. Сохраните разметку.

Откройте для просмотра карточку, разметка которой была настроена (в 6). Описание ссылок в карточке будет содержать название и автора карточки.

image::links_conf2.png[Элемент управления Ссылки с методом получения описания ссылок "Разметка"]

Аналогичным образом может быть настроена разметка блока информации о карточке в справке о ссылке (открывается при нажатии кнопки image:buttons/bt_linkInfo.png[Информация]), со следующими отличиями:

* разметка блока информации о карточке может быть более сложной (не требуется помещать все элементы внутрь ЭУ "Контейнер строка");
* при добавлении условия выбора разметки следует указать Режим: "Справка";
* в ЭУ *Ссылки* нужно настроить свойство "Вид дополнительной информации" -- должно быть выбрано значение "О карточке и о ссылке" или "Только о карточке".

image::control_LinkInfo.png[Отображение информации о ссылке и о карточке в окне справки]
