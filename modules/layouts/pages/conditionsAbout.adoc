= Настройка условий выбора разметок

Условия выбора разметки -- это правила выбора разметок из общего списка. Согласно настроенным правилам выбирается разметка, которая должна применяться для данной локации в текущих условиях.

Условия выбора настраиваются на вкладке xref:interfaceConditionsTab.adoc[Условия выбора] рабочей области.

.Условия выбора разметки
image::select-conditions.png[Условия выбора разметки]

Выбор разметки осуществляется по следующему алгоритму:

. Определяется список условий, удовлетворяющих заданным критериям.
+
Критерии для определения условия зависят от локации, к которой применяется разметка.
+
.Стандартный набор критериев включает:
- Тип устройства. Ограничивает использование разметки определённым типом устройства.
- Режим. Ограничивает использование разметки определённым режимом работы с данными.

.Для локаций карточек также могут быть следующие критерии:
- Состояние (карточки).
- Роль (пользователя) и др.

[start=2]
. Из полученного списка условий выбирается условие с наивысшим приоритетом. Приоритет условия определяется по его порядку в списке: чем меньше порядок, тем выше приоритет.

[#priority]
== Приоритет условия выбора разметки

Условия выбора могут быть составлены таким образом, чтобы для каждой ситуации использования разметки было собственное условие. Каждое следующее условие должно содержать критерии, отличные от критериев предыдущих условий.

Однако, в большинстве случаев такая настройка является излишней. Достаточно указать несколько общих условий для разных режимов использования разметки и также несколько более жестких условий. Например, общие условия не учитывающие тип устройства и/или роль пользователя и более жёсткие условия, учитывающих состояние карточки.

В таком случае разметка с более мягкими условиями будет использоваться, если более жесткие условия не выполнены. При таком подходе важно правильно настроить порядок проверки условий, чтобы более мягкое условие не было проверено до более жесткого условия, иначе оно не будет выполнено ни в каких ситуациях.

Настроить порядок проверки условий можно с помощью кнопок *Вверх* / *Вниз* на странице Условия выбора. Условия, у которых порядок ниже, будут проверяться первыми.

.Порядок проверки условий при выборе разметки
image::condition-priority.png[Порядок проверки условий при выборе разметки]

== Группировка условий

Все условия на вкладке _Условия выбора_ сгруппированы по Решениям, в которые они входят.

Действующим является только одна группа условий, у которой установлен флаг `*Активно*`. Условия, включенные в другие Решения, не используются.
