
== Список файлов

Элемент управления *Список файлов* предназначен для работы со списком файлов карточки типа _Документ_.

image::controls_filelist_sample.png[Пример элемента управления "Список файлов"]

Данный элемент управления позволяет:

* отображать основные и дополнительные файлы карточки;
* добавлять/удалять основные и дополнительные файлы с файловой системы и со сканера;
+
[NOTE]
====
[.note__title]#Прим.:# Для использования функции сканирования в элемент управления "Список файлов" требуется добавить элемент xref:Control_scanButton.adoc[Сканирование].
====
* работать со списком версий;
* изменять тип добавленного файла (основной, дополнительный) перетаскиванием;
* переименовывать файлы;
* просматривать содержимое файла в окне предварительного просмотра: собственная реализация или с использованием компонента xref:Control_FilePreview.adoc[Предпросмотр файла];
* подписывать файлы ЭЦП;
* формировать печатную версию со штампом электронной подписи для основных файлов;
* загружать отсоединённую электронную подпись.

Возможность выполнения определенной операции пользователем регулируется ролевой моделью.

TIP: Данный ЭУ может быть добавлен только в разметку карточек типа Документ.

== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Поведение::
Видимость:::
Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен. Эелемент управления и любое его содержимое не отображаются, когда флаг снят.
+
`*Адаптивный*`
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Загружать синхронно (шт):::
Определяет максимальное количество элементов списка, при котором должна использоваться синхронная загрузка данных. Если количество элементов больше указанного, то все данные будут загружаться асинхронно.
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна, чтобы ЭУ отображался для пользователя. Работа свойства зависит от значения свойства `*Видимость*`:
+
* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.
Операция редактирования для добавления подписи:::
Определяет операцию, которая должна быть доступна пользователю для возможности загрузки файла отсоединённой электронной подписи.
Разрешить дополнительные файлы:::
Разрешает или запрещает добавление дополнительных файлов с помощью данного элемента управления.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
Текст метки::
Заголовок:::
Тест, отображаемый в заголовке элемента управления. По умолчанию: "Файлы".
Заполнитель:::
Текст, отображаемый в элементе управления, когда файлы не добавлены. По умолчанию: "Файлы отсутствуют".
Заполнитель при перетаскивании:::
Текст, отображаемый в элементе управления при добавлении файла. По умолчанию: "Перетащите сюда файлы".
Текст "Добавить дополнительный файл":::
Текст отображаемый в ссылке, при нажатии которой вызывается добавление дополнительного файла. По умолчанию: "+ дополнительный".
Текст "Добавить основной файл":::
Текст отображаемый в ссылке, при нажатии которой вызывается добавление основного файла. По умолчанию: "+ основной".
Текст для дополнительного файла:::
Текст, отображаемый в блоке добавления дополнительного файла перетаскиванием, и в заголовке списка дополнительных файлов. По умолчанию: "Дополнительные файлы".
Текст для основного файла:::
Текст, отображаемый в блоке добавления основного файла перетаскиванием, и в заголовке списка основных файлов. По умолчанию: "Основные файлы".
+
Свойство _Текст "Добавить дополнительный файл"_, _Текст "Добавить основной файл"_, _Текст для дополнительного файла_ и _Текст для основного файла_ доступны только при включенной настройке *Разрешить дополнительные файлы*.
События::
Перед визуализацией файла:::
Вызывается при формировании печатной версии файла со штампом электронной подписи.
Перед добавлением дополнительного файла:::
Вызывается перед добавлением дополнительного файла.
Перед добавление комментария к версии файла:::
Вызывается перед добавлением комментария к версии файла.
Перед добавлением основного файла:::
Вызывается перед добавлением основного файла.
Перед загрузкой версии файла:::
Вызывается перед загрузкой версии файла.
Перед открытием предпросмотра файла:::
Вызывается перед открытием предварительного просмотра файла.
Перед открытием файла через WebDAV:::
Вызывается перед открытием файла с использование WebDAV.
Перед просмотром журнала подписей:::
Вызывается перед просмотром журнала подписей.
Перед скачиванием версии файла:::
Вызывается перед скачиванием версии файла.
Перед созданием цифровой подписи:::
Вызывается перед созданием цифровой подписи файла.
Перед удалением дополнительного файла:::
Вызывается перед удалением дополнительного файла.
Перед удалением комментария к версии файла:::
Вызывается перед удалением комментария к версии файла.
Перед удалением основного файла:::
Вызывается перед удалением основного файла.
После визуализации файла:::
Вызывается после формирования печатной версии файла со штампом электронной подписи.
После добавления дополнительного файла:::
Вызывается после добавления дополнительного файла.
После добавления комментария к версии файла:::
Вызывается после добавления комментария к версии файла.
После добавления основного файла:::
Вызывается после добавления основного файла.
После загрузки версии файла:::
Вызывается после загрузки версии файла.
После открытия предпросмотра файла:::
Вызывается после открытия предварительного просмотра файла.
После открытия файла через WebDAV:::
Вызывается после открытия файла с использование WebDAV.
После скачивания версии файла:::
Вызывается после скачивании версии файла.
После создания цифровой подписи:::
Вызывается после создании цифровой подписи файла.
После удаления дополнительного файла:::
Вызывается после удалении дополнительного файла.
После удаления комментария к версии файла:::
Вызывается после удалении комментария к версии файла.
После удаления основного файла:::
Вызывается после удалении основного файла.
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
При просмотре журнала подписей:::
Вызывается после просмотра журнала подписей.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
