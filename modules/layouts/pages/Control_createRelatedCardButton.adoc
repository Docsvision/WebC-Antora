
== Кнопка создания связанной карточки

Элемент управления *Кнопка создания связанной карточки* предназначен для создания карточек, связанных с текущей карточкой.

image::control_CreateRelatedCardButton.png[Пример элемента управления "Кнопка создания связанной карточки"]

ЭУ представляет собой набор кнопок, каждая из которых соответствует режиму создания из Справочника видов карточек.

Особенности элемента управления:

* при создании связанной карточки используются настройки режима создания из Справочника видов карточек: размещение -- настройка "Отображать диалог выбора папки" игнорируется, шаблон, тип ссылки;
* в связанную карточку копируются значения полей текущей карточки, если это предусмотрено способом создания, который выбран в режиме создания.

В ЭУ отображаются только режимы создания, которые удовлетворяют следующим условиям:

. *В справочнике видов карточек у режима создания установлен флаг "Отображать команду".*
. Если в режиме создания указан "Вид родительской карточки", то текущей вид должен ему соответствовать.
. Если в режиме создания указана "Операция редактирования", то она должна быть доступна пользователю.
. Если в свойстве `Способ создания` элемента управления выбрано значение, режим создания должен соответствовать ему.

[NOTE]
====
[.note__title]#Note:# После изменения настроек режима создания в Справочнике видов карточек *нужно перезапустить IIS*, чтобы изменения стали доступны в {wc}е.
====

TIP: Данный ЭУ может быть добавлен только в разметку просмотра.

== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Внешний вид::
Вертикальная ориентация:::
Определяет формат отображения кнопок элемента управления: флаг установлен -- кнопки выстраиваются вертикально; флаг не установлен -- кнопки выстраиваются горизонтально.
+
`*Адаптивный*`
Подсказка:::
Содержимое всплывающей подсказки.
+
`*Локализуемый*`.
Текст:::
Текст, отображаемый на кнопке, если доступен *только один* режим создания. Если доступно несколько режимов создания, или `текст` не указан, в кнопке будет отображаться название режима создания.
+
`*Локализуемый*`
Поведение::
Видимость:::
Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен. Элемент управления и любое его содержимое не отображаются, когда флаг снят.
+
`*Адаптивный*`
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Ограничение количества кнопок:::
Определяет максимальное количество кнопок режимов создания, отображаемых пользователю. Если пользователю доступно больше режимов создания, чем указано в свойстве, будут показаны только первые N режимов и кнопка *…* -- для показа всех режимов. Если в настройке указано значение "0" (значение по умолчанию) -- отображаются все доступные режимы создания.
+
`*Адаптивный*`
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна, чтобы ЭУ отображался для пользователя. Работа свойства зависит от значения свойства `*Видимость*`:
+
* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.
Переходить по TAB:::
Флаг определяет последовательность перехода по ЭУ карточки при нажатии кнопки kbd:[TAB]. Если флаг установлен, переход по kbd:[TAB] разрешён.
Режим открытия:::
Выбор способа открытия окна создания связанной карточки: "Текущая вкладка", "Новая вкладка", "Новое окно браузера".
Способ создания:::
Ограничивает список режимов создания, которые будут доступны пользователю: в списке будут отображаться только режимы со способом создания, выбранным в свойстве "Способ создания". Если в настройке выбрано значение "-" (значение по умолчанию) -- отображаются все доступные режимы создания.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
При запросе параметров:::
Вызывается при инициализации дополнительных параметров для запроса.
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
При получении фокуса:::
Вызывается, когда элемент управления выбирается.
При потере фокуса:::
Вызывается, когда выбор переходит к другому элементу управления.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
