= Таблица

Элемент разметки `_Таблица_` предназначен для ввода и отображения данных табличной секции карточки.

Столбцы в ЭР `_Таблицы_` представляют собой отдельные элементы разметки -- xref:tableColumn.adoc["Столбец таблицы"]. В один ЭР `_Таблица_` может быть добавлено необходимое количество столбцов.

.Пример элемента разметки "Таблица"
image::controls_table_sample.png[Пример элемента разметки "Таблица"]

Таблица предоставляет возможность добавлять новые строки кнопкой image:buttons/bt_create.png[Плюс] и удалять существующие кнопкой image:buttons/bt_basket.png[Корзина]. Данные кнопки отображаются, если разрешено редактирование таблицы. Кнопка добавления строки может быть скрыта.

Также в таблицу могут быть добавлены новые команды.

[NOTE]
====
Способ сохранения изменений таблицы отличается в зависимости от режима работы с ней:

* если карточка открыта с разметкой режима просмотра (таблица также в режиме просмотра), то изменение данных в ячейке сохраняется сразу после выполнения изменения;
* если карточка открыта в режиме редактирования, то все изменения таблицы сохраняются при сохранении карточки.
====

Количество отображаемых в _ЭР_ строк ограничивается настройками (по умолчанию -- 15), при этом [.keyword]*не рекомендуется* связывать _ЭР_ с секцией, содержащей более 30 строк -- это может привести к замедлению открытия карточки.

По умолчанию строки в таблице не сортируются: отображаются в порядке следования в связанной секции или в соответствии с реализованным разработчиком алгоритмом. Пользователю может быть предоставлена возможность вручную изменять порядок отображения строк в таблице (не сортировка) путём их перетаскивания. Для этого:

* в секции, с которой связывается таблица, должно быть числовое поле (целочисленное), в котором будет сохраняться порядок строк;
* данное поле должно быть выбрано в свойстве _Сохранять номер последовательности_.

Изменение порядка отображения строк возможно в режиме редактирования "По месту" или "Редактирование". Для отображения строк с учётом заданной пользователем последовательности, поле с порядком строк должно быть указано в свойстве _Сохранять номер последовательности_ разметок редактирования и просмотра.

Пример использования данного ЭУ в разметке рассмотрен в разделе xref:layoutsTable.adoc[Использование таблицы для работы с коллекционной секцией карточки].

== Свойства

include::partial$properties.adoc[tags=general]

=== Внешний вид

Заголовок:::
Текст, отображаемый в названии таблицы.

`*Локализуемый*`

Скрыть кнопку добавления строк:::
При включении скрывает из пользовательского интерфейса кнопку image:buttons/bt_create.png[Плюс].

=== Данные

include::partial$properties.adoc[tags=extendedDataSource]

==== Источник данных

Коллекционная секция карточки, содержащая данные для элемента управления.
+

include::partial$properties.adoc[tags=editOperation]

=== Поведение

include::partial$properties.adoc[tags=visibility]

include::partial$properties.adoc[tags=addCss]
Максимальное количество строк для отображения:::
Определяет максимальное число отображаемых в _ЭР_ строк (по умолчанию - 15). Если число строк в связанной секции больше, чем данное ограничение, в конце таблицы отображается сообщение: "There are more rows, that are not shown due to table settings".
Минимальная высота:::
Минимальная высота элемента управления.

`*Адаптивный*`


include::partial$properties.adoc[tags=minWidth]

include::partial$properties.adoc[tags=editOperationForVisibility]

include::partial$properties.adoc[tags=disabled]

Отображать свернутым:::
Определяет начальное состояние таблицы: флаг установлен - содержимое таблицы не отображается в карточке; флаг не установлен - содержимое таблицы отображается в карточке. Проверяется только при установленном флаге *Сворачиваемый*

`*Адаптивный*`

include::partial$properties.adoc[tags=byTab]

include::partial$properties.adoc[tags=order]

include::partial$properties.adoc[tags=editMode]
Сворачиваемый:::
Настройка возможности скрытия содержимого таблицы: флаг установлен - содержимое может быть скрыто кнопкой сворачивания; флаг не установлен - содержимое не может быть скрыто.
Сохранять номер последовательности:::
Поле для сохранения порядка вывода строк таблицы. Должно быть указано, если требуется иметь возможность изменять прядок строк перетаскиванием. Требуемый тип поля: целое.
Способ редактирования строк:::
Определяет способ редактирования значения в строках таблицы:
+
* Встроенный -- редактирование значения осуществляется в строке самой таблицы;
* Разметка -- редактирование значения осуществляется в отдельном окне со своей разметкой. Разметка настраивается отдельно.
+
TIP: Данное свойство доступно только в разметках секций карточек для режима просмотра.

include::partial$properties.adoc[tags=stdCss]

include::partial$properties.adoc[tags=widthPercent]

=== События

Перед разворачиванием:::
Вызывается при нажатии кнопки разворачивания таблицы.
Перед сворачиванием:::
Вызывается при нажатии кнопки сворачивания таблицы.
После разворачивания:::
Вызывается после разворачивания таблицы.
После сворачивания:::
Вызывается после сворачивания таблицы.
При удалении строки:::
Вызывается перед удалением строки таблицы.
После добавления строки:::
Вызывается после того, как строка таблицы была добавлена.
После удаления строки:::
Вызывается после того, как строка таблицы была удалена.
При добавлении строки:::
Вызывается перед добавление строки таблицы.

include::partial$properties.adoc[tags=mouseOver]

include::partial$properties.adoc[tags=mouseAway]

include::partial$properties.adoc[tags=focusGet]

include::partial$properties.adoc[tags=onClick]
