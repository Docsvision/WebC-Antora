
== Настройка элемента управления для работы с несколькими файлами

Элемент управления xref:Control_table.html[Таблица] может быть использован для работы с табличной секций, содержащей ссылки на карточки [.dfn .term]_Файла с версиями_.

Для настройки таблицы для работы с файлами:

. Добавьте в разметку карточки элемент управления [.ph .uicontrol]*Таблица*.
. Настройте добавленный элемент управления:
[loweralpha]
.. В свойстве [.dfn .term]_Источник данных_ выберите табличную секцию карточки, содержащую ссылки на карточки файла с версиями. Например, для [.dfn .term]_Документа_ можно указать секцию «Файлы».
.. Установите флаг [.ph .uicontrol]*Скрыть кнопку добавления строк*.
.. В зависимости от назначения разметки установите [.dfn .term]_Режим редактирования_:
* Редактирование – для разметки создания/редактирования карточки,
+
[NOTE]
====
[.note__title]#Note:# Допускается добавление элемента с режимом «Редактирование» в разметку, предназначенную для просмотра данных. В этом случае необходимо самостоятельно реализовать функцию сохранения значения элемента управления с использованием скриптов карточки.
====
* По месту – для просмотра карточки.
.. В параметры [.dfn .term]_Минимальная высота_ можно установить собственный размер для блока приёма файла, который будет отображаться в ЭУ [.dfn .term]_Таблица_ при добавлении файлов перетаскиванием с устройства.
.. Если требуется, заполните другие параметры таблицы (например, заголовок).
. Добавьте в таблицу элементы управления:
* xref:Control_addFileToTable.html[Таблица / Добавить файл] – в настройках можно указать текст, который будет отображаться при добавлении файла перетаскиванием, или отключить режим добавления перетаскиванием, а также ограничить работу с функцией с помощью операции редактирования;
* xref:Control_downloadAllTableFiles.html[Таблица / Скачать все] – в настройках можно ограничить возможность использования функции с помощью операции редактирования.
+
Если возможность добавления и/или скачивания всех файлов не требуется, указанные элементы управления можно не добавлять.
. Добавьте в таблицу ЭУ xref:Control_tablecolumn.html[Столбец таблицы], в котором будут отображаться файлы. При необходимости можно добавить столбцы для отображения других данных из секции, выбранной в настройках таблицы.
. В ЭУ [.dfn .term]_Столбец таблицы_ добавьте элемент управления xref:Control_filePicker.html[Файл], который будет использоваться для добавления и отображения добавленных файлов.
. Настройте добавленный ЭУ [.dfn .term]_Файл_:
[loweralpha]
.. В свойстве [.dfn .term]_Поле данных_ выберите поле. содержащее ссылку на карточку [.dfn .term]_Файла с версиями_. В свойстве [.dfn .term]_Источник данных_ должна быть указана секция, которая была выбрана источником данных [.dfn .term]_Таблицы_.
.. В зависимости от назначения разметки установите [.dfn .term]_Режим редактирования_:
* Редактирование – для разметки создания/редактирования или просмотра (сохранение значения реализуется с помощью скриптов) карточки,
* По месту – для просмотра карточки.
.. Снимите флаг [.ph .uicontrol]*Включить версионинг*, если не требуется работа с версиями файла (будут скрыты команды работы с версиями и номер версии файла).
.. Если требуется, заполните другие параметры элемента управления (например, обязательность).
+
image::tableWithFilesSample.png[[.fig--title-label]##Figure 1. ##Пример разметки карточки с таблицей, настроенной для работы с файлами]
. Сохраните разметку.

*Parent topic:* xref:../topics/Control_filePicker.html[Файл]
