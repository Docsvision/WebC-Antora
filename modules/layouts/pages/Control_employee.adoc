
== Сотрудник

Элемент управления *Сотрудник* предназначен для просмотра и выбора сотрудника из _Справочника сотрудников_.

Вариант отображения ЭУ зависит от настройки `Режим     редактирования`:

* Редактирование - ЭУ в данном режиме может быть использован только в разметке режима редактирования карточки. В режиме `Редактирование` поддерживается быстрый поиск и выбор сотрудника из _Справочника сотрудников_.
+
image::ct_employee_editmode.png[Элемент управления "Сотрудник" в режиме редактирования]
+
Быстрый поиск и поиск при выборе из справочника осуществляется по фамилии, имени и отчеству сотрудника.
* По месту - ЭУ в данном режиме может быть использован в разметке режима чтения и редактирования карточки. Выбор и изменение выбранного сотрудника осуществляется при нажатии на ссылку в ЭУ. Поиск и выбор осуществляется аналогично поиску и выбору для режима `Редактирование`.
+
image::ct_employee_placemode.png[Элемент управления "Сотрудник" в режиме редактирования по месту]
* Без редактирования - ЭУ в данном режиме отображает ФИО (отображаемые данные) сотрудника из связанного поля карточки.

== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Внешний вид::
Заполнитель:::
Текст, отображаемый в элементе управления, пока не выбран сотрудник.
+
image::controls_employee_sample_empty.png[image]
+
`*Локализуемый*`
Отображать метку без значения:::
Определяет вариант отображения метки.
* Когда флаг установлен, текст метки отображается всегда.
* Когда флаг не установлен, текст метки отображается только, если задано значение ЭУ.
Подсказка:::
Текст всплывающей подсказки, отображаемой при наведении на метку.
+
`*Локализуемый*`
Подсказка к значению:::
Содержимое всплывающей подсказки, отображаемой если сотрудник выбран. Возможные варианты:
+
* ФИО
* ФИО+Должность
* Не используется -- во всплывающей подсказке отображается текст из поля [.kbd .ph .userinput]`Подсказка`
+
`*Локализуемый*`
Текст метки:::
Содержимое метки, отображаемой слева от элемента управления.
+
`*Локализуемый*`

Данные::
Расширенный источник данных:::
Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.
Источник данных:::
Секция карточки, содержащая данные для элемента управления. Если выбрана коллекционная секция, то в качестве источника данных будет выбрана первая строка.
Поле данных:::
Поле карточки, содержащее ссылку на сотрудника _Справочника сотрудников_
Операция редактирования:::
Выбор операции редактирования значения элемента управления. Если операция недоступна пользователю, то изменение значения элемента управления также недоступно. Если операция не выбрана, то возможность редактирования значения элемента управления не проверяется.
+
Если значение `*Операции редактирования*` наследуется от родительского Блока, название настройки меняется на `*Операция редактирования (наследовано)*`.
Поведение::
Видимость:::
Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен и не отображается вместе с содержимым, когда флаг снят.
+
`*Адаптивный*`
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Отключен:::
Когда флаг установлен, отключается возможность изменить значения элемента управления. Работает совместно со свойством `*Операция редактирования*`: если одно из свойств запрещает редактирования, редактирование будет запрещено.
+
`*Адаптивный*`
Значение по умолчанию:::
Значение, которое будет присвоено при создании новой карточки. Возможны значения: "Не задан" и "Текущий пользователь".
Использовать исполнителей:::
Определяет, требуется ли отображать последних выбранных исполнителей в начале списка сотрудников. Если флаг установлен, то при выборе/поиске десять последних выбранных исполнителей будут отображаться в начале списка (отделяются от других чертой); после выбора исполнителя, он будет сохранен в список последних. Если флаг снят -- последние исполнители не будут выделяться; выбранный исполнитель в список последних добавлен не будет.
+
Данная настройка предназначена только для карточек Задание и Группа заданий, разметки редактирования. Список последних выбранных исполнителей хранится в карточке пользователя, является общим для {wc}а и Windows-клиента, является общим для элементов управления Сотрудник и xref:Control_employees.adoc[Сотрудники].
Обязательное:::
Определяет требование к заполнению значения ЭУ до сохранения карточки:
* Когда флаг установлен, значение ЭУ должно быть присвоено, иначе карточка не будет сохранена. При этом ЭУ помечается предупреждающим сообщением.
* Когда флаг не установлен, присваивать значение не обязательно.
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна пользователю для показа данного элемента управления. Действие настройки зависит от значения настройки _Видимость_:
+
* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.
Переходить по TAB:::
Флаг определяет последовательность перехода по ЭУ карточки при нажатии кнопки kbd:[TAB]. Если флаг установлен, переход по kbd:[TAB] разрешён.
Последние выбранные:::
Определяет, требуется ли отображать последних выбранных сотрудников в начале списка сотрудников. Флаг установлен - при выборе сотрудника десять последних выбранных сотрудников перемещаются в начало списка. Последние выбранные сотрудники отделяются от других чертой.
Режим редактирования:::
Определяет вариант отображения элемента управления и возможность изменения его значения:
+
* "По месту" -- значение изменяется в отдельном окне, которое открывается при щелчке мыши по элементу управления. Данный вариант подходит как для разметки режима редактирования, так и для разметки режима просмотра карточки.
* "Редактирование" -- значение изменяется непосредственно в элементе управления. Данный вариант может быть выбран в разметке режима редактирования и просмотра.
+
Если элемент с режимом "Редактирование" добавлен в разметку просмотра, необходимо самостоятельно обеспечить возможность сохранения его значения с использованием скриптов карточек.
* "Без редактирования" -- значение изменить нельзя.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
Перед закрытием окна редактирования:::
Вызывается перед закрытием окна редактирования в режиме редактирования "По месту".
Перед открытием окна редактирования:::
Вызывается перед открытием окна редактирования в режиме редактирования "По месту".
После закрытия окна редактирования:::
Вызывается после закрытия окна редактирования в режиме редактирования "По месту".
После открытия окна редактирования:::
Вызывается после открытия окна редактирования в режиме редактирования "По месту".
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
При получении фокуса:::
Вызывается, когда элемент управления выбирается.
При потере фокуса:::
Вызывается, когда выбор переходит к другому элементу управления.
После смены данных:::
Вызывается после изменения содержимого элемента управления.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
