= Подразделение контрагента

Элемент управления `_Подразделение контрагента_` предназначен для выбора организации или подразделения из _Справочника контрагентов_ и изменения данных справочника.

image::ct_partnersdepartment_opened_list_sample.png[Справочник контрагентов]

Вариант отображения ЭУ зависит от свойства `*Режим редактирования*`:

* *_Редактирование_*. ЭУ в данном режиме поддерживает быстрый поиск и выбор из _Справочника контрагентов_.
+
Данный вариант может быть использован только в разметке режима редактирования карточки.
+
.Элемент управления "Подразделение контрагента" в режиме редактирования
image::ct_partnersdepartment_editmode.png[Элемент управления "Подразделение контрагента" в режиме редактирования]
+
Быстрый поиск осуществляется по названию контрагента, а в режиме выбора из справочника - по названию, полному названию и ИНН.
+
* *_По месту_*. Выбор и изменение выбранного контрагента осуществляется при нажатии на ссылку в ЭУ. Поиск и выбор осуществляется аналогично поиску и выбору для режима *_Редактирование_*.
+
Данный вариант подходит как для разметки режима редактирования, так и для разметки режима просмотра карточки.
+
.Элемент управления "Подразделение контрагента" в режиме редактирования по месту
image::ct_partnersdepartment_placemode.png[Элемент управления "Подразделение контрагента" в режиме редактирования по месту]
+
* *_Без редактирования_*. ЭУ в данном режиме отображает название контрагента из связанного поля карточки.

include::partial$partnersDeleteSpecial.adoc[]

== Свойства

=== Общие

==== Название ЭУ

Название типа элемента управления.

==== Название

Уникальное название элемента управления.

=== Внешний вид

==== Заполнитель

Текст, отображаемый в элементе управления, если подразделение не выбрано.

`*Локализуемый*`

==== Отображать метку без значения

Определяет вариант отображения метки.

* Когда флаг установлен, текст метки отображается всегда.
* Когда флаг не установлен, текст метки отображается только, если задано значение ЭУ.

==== Подсказка

Содержимое всплывающей подсказки.

`*Локализуемый*`

==== Текст метки

Содержимое метки, отображаемой слева от элемента управления.

`*Локализуемый*`

=== Данные

==== Расширенный источник данных

Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.

==== Источник данных

Секция карточки, содержащая данные элемента управления.

==== Поле данных

Поле карточки, содержащее ссылку на организацию/подразделение _Справочника контрагентов_.

==== Выбирать из

Ограничивает возможность поиска и добавления организаций. Пользователь сможет искать и добавлять организации или подразделения только в выбранную организацию. Если значение не установлено, область поиска или добавления не ограничивается.

==== Операция редактирования

Выбор операции редактирования значения элемента управления. Если операция недоступна пользователю, то изменение значения элемента управления также недоступно. Если операция не выбрана, то возможность редактирования значения элемента управления не проверяется.

Если значение `*Операции редактирования*` наследуется от родительского Блока, название свойства меняется на `*Операция редактирования (наследовано)*`.

=== Поведение

==== Видимость

Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен. Элемент управления и любое его содержимое не отображаются, когда флаг снят.

`*Адаптивный*`

include::partial$properties.adoc[tags=selectCompanyOrDepartment]

==== Дополнительные css классы

Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Задержка поиска (мс):::
Определяет время задержки (в мс) от ввода последнего символа в строку поиска до выполнения быстрого поиска по справочнику.

==== Обязательное

Определяет требование к заполнению значения ЭУ до сохранения карточки:
* Когда флаг установлен, значение ЭУ должно быть присвоено, иначе карточка не будет сохранена. При этом ЭУ помечается предупреждающим сообщением.
* Когда флаг не установлен, присваивать значение необязательно.

==== Операция редактирования для видимости

Определяет операцию, которая должна быть доступна, чтобы ЭУ отображался для пользователя. Работа свойства зависит от значения свойства `*Видимость*`:

* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.

==== Отключен

Когда флаг установлен, отключается возможность изменить значения элемента управления. Работает совместно со свойством `*Операция редактирования*. Рредактирование будет запрещено, если одно из свойств запрещает редактирование.

`*Адаптивный*`

==== Переходить по TAB

Флаг определяет последовательность перехода по ЭУ карточки при нажатии кнопки kbd:[TAB]. Если флаг установлен, переход по kbd:[TAB] разрешён.

include::partial$properties.adoc[tags=editDirectory]

include::partial$properties.adoc[tags=editMode]

==== Стандартный css класс

Название CSS класса, в котором определен стандартный стиль элемента управления.

=== События

==== Перед загрузкой результатов поиска

Вызывается перед загрузкой результатов поиска.

==== Перед закрытием окна редактирования

Вызывается перед закрытием окна редактирования в режиме редактирования *_По месту_*.

==== Перед закрытием окна справочника

Вызывается перед закрытием окна выбора значения из справочника.

==== Перед открытием окна редактирования

Вызывается перед открытием окна редактирования в режиме редактирования *_По месту_*.

==== Перед открытием окна справочника

Вызывается перед открытием окна выбора значения из справочника.

==== После загрузки результатов поиска

Вызывается после загрузки результатов поиска.

==== После закрытия окна редактирования

Вызывается после закрытия окна редактирования в режиме редактирования *_По месту_*.

==== После закрытия окна справочника

Вызывается после закрытия окна выбора значения из справочника.

==== После изменения текущего фильтра

Вызывается после изменения фильтра отображаемых значений элемента управления.

==== После открытия окна редактирования

Вызывается после открытия окна редактирования в режиме редактирования *_По месту_*.

==== После открытия окна справочника

Вызывается после открытия окна выбора значения из справочника.

==== При изменении текущего фильтра

Вызывается перед изменением фильтра отображаемых значений элемента управления.

==== При наведении курсора

Вызывается при входе курсора мыши в область элемента управления.

==== При отведении курсора

Вызывается, когда курсор мыши покидает область элемента управления.

==== При получении фокуса

Вызывается, когда элемент управления выбирается.

==== При потере фокуса

Вызывается, когда выбор переходит к другому элементу управления.

==== После смены данных

Вызывается после изменения содержимого элемента управления.

==== При щелчке

Вызывается при щелчке мыши по любой области элемента управления.
