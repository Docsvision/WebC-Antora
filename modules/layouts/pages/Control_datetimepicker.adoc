
== Дата/время

Элемент управления [.ph .uicontrol]*Дата/время* предназначен для ввода и отображения даты или даты и времени из связанного поля карточки.

Интерфейс элемента управления зависит от настройки `Режим редактирования`:

* Редактирование, По месту -- в данном режиме ЭУ представляет собой поле для ввода значения, которое также можно выбрать из календаря (открывается кнопкой image:buttons/openCalendar.png[Календарь]). В режиме «По месту» новое значение автоматически сохраняется в карточку.
+
image::ct_date_editmode.png[[.fig--title-label]##Рис. 1. ##Элемент управления «Дата/время» в режиме редактирования «По месту»]
+
Ниже представлен пример календаря для выбора значения.

image::calendar.png[[.fig--title-label]##Рис. 2. ##Календарь элемента управления «Дата/время»]
* Без редактирования -- в данном режиме ЭУ представляет собой строку, в которой отображается значение даты и времени из поля карточки.
+
image::ct_date_readmode.png[[.fig--title-label]##Рис. 3. ##Элемент управления «Дата/время» в режиме без редактирования]

=== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Внешний вид::
Заполнитель:::
Текст, отображаемый в элементе управления, если для [.dfn .term]_ЭУ_ не задано значение.
+
`*Локализуемый*`.
Отображать диалог выбора времени:::
Флаг позволяет отключить или включить отображение диалога выбора времени для элемента управления. По умолчанию флаг активен, то есть диалог выбора времени отображается.
+
Когда флаг неактивен, пользователю доступен только календарь для выбора даты, время можно указать вручную с клавиатуры.
+
Диалог выбора времени доступен в разметках редактирования или редактирования по месту и только, если в свойстве xref:Control_datetimepicker.adoc#concept_ssm_dk4_dx__type[[.keyword .wintitle]*Тип*] выбран пункт [.keyword .wintitle]*Дата и время*.
Отображать метку без значения:::
Определяет вариант отображения метки: флаг установлен -- текст метки отображается всегда; флаг не установлен -- текст метки отображается только, когда задано значение [.dfn .term]_ЭУ_.
Подсвечивать просроченность:::
Определяет необходимость сигнализирования -- дата и время в ЭУ будут подсвечены красным цветом (значение по умолчанию) -- о превышении установленного в ЭУ срока: флаг установлен - если текущая дата (или дата и время) больше значения ЭУ, то ЭУ будет подсвечен (сигнализируя о просрочке); флаг не установлен -- просрочка не проверяется.
+
ЭУ предоставляет возможность изменить цвет сигнализирования о просрочке. К примеру, чтобы установить зеленый цвет сигнализирования, создайте в папке [.ph .filepath]`C:\Program Files (x86)Docsvision\WebClient\5.5\Site\Content\Solutions\SampleSolution\Styles\` файл [.ph .filepath]`sample.css` с содержимым:
+
[source,,l]
----
<!--- not(.edit-mode) - данный стиль будет использован только при просмотре карточки -->
.system-datetimepicker.highlight-overdue.overdue:not(.edit-mode) .labeled-text-helper .text-cell .labeled-text {
font-weight: bold;
color: green;
}
----
Подсказка:::
Содержимое всплывающей подсказки.
+
[#concept_ssm_dk4_dx__d7e65 .dfn .term]#Локализуемый#.
Текст метки:::
Содержимое метки, отображаемой слева от элемента управления.
+
`*Локализуемый*`.
Тип:::
Формат представления времени в элементе управления:
+
* «Дата и время» -- отображаются и могут быть изменены дата и время;
* «Дата» -- отображается и может быть изменена дата.
Данные::
Расширенный источник данных:::
Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.
Источник данных:::
Секция карточки, содержащая данные элемента управления.
Поле данных:::
Поле типа Дата/время с данными элемента управления.
Операция редактирования:::
Выбор операции редактирования значения элемента управления. Если операция недоступна пользователю, то изменение значения элемента управления также недоступно. Если операция не выбрана, то возможность редактирования значения элемента управления не проверяется.
+
Если значение [.dfn .term]_Операции редактирования_ наследуется от родительского Блока, название настройки меняется на «Операция редактирования (наследовано)».
Значение по умолчанию::
Время по умолчанию:::
Свойство недоступно в режиме редактирования по месту, доступно только в режиме редактирования.
+
Время, которое будет установлено по умолчанию в ЭУ:
+
* «Текущее время» -- будет установлено текущее время;
* «Начало дня» -- будет установлено время «00:00»;
* «Начало рабочего дня» -- будет установлено время начала рабочего дня из бизнес-календаря;
* «Конец дня» -- будет установлено время «23:59»;
* «Конец рабочего дня» -- будет установлено время конца рабочего дня из бизнес-календаря.
+
Если выбрано значение «Начало рабочего дня» или «Конец рабочего дня», то при расчете времени будет использован бизнес-календарь:
+
* календарь по умолчанию, который выбран в справочнике «Системные настройки» ([.ph .menucascade]#[.ph .uicontrol]*Системные настройки* > [.ph .uicontrol]*Делопроизводство* > [.ph .uicontrol]*Задачи и задания* > [.ph .uicontrol]*Расширенные настройки* > [.ph .uicontrol]*Бизнес-календарь по умолчанию*#).
* или системный бизнес-календарь (рабочий день с 9 до 18 часов, суббота и воскресенье -- выходной) -- если не выбран календарь по умолчанию.
Значение по умолчанию:::
Свойство недоступно в режиме редактирования по месту, доступно только в режиме редактирования.
+
Дата и время, которые будут установлены по умолчанию в ЭУ. Флаг [.ph .uicontrol]*Текущая дата* должен быть снят. Если в настройках ЭУ установлено смещение значения по умолчанию, то значение ЭУ будет скорректировано с учетом этого параметра.
+
Если время не указано (время «00:00»), то в значении ЭУ время будет получено из бизнес-календаря -- время начала рабочего дня. Правила выбора календаря приведены в описании настройки `Время по умолчанию`. Аналогичное поведение будет при работе с ЭУ в карточке -- если стереть время, то после выбора даты будет установлено время, полученное из бизнес-календаря.
Смещение значения по умолчанию (в часах):::
Количество часов (целое число), которое будет прибавлено к предварительному значению ЭУ, которое вычислено из значения настройки `Значение по умолчанию` или настройки `Время по умолчанию`. Можно указывать отрицательное значение. Например, чтобы сдвинуть время по умолчанию на день вперед, в поле `Смещение           значения по умолчанию` нужно ввести значение «24» (часа).
Текущая дата:::
Флаг установлен -- в ЭУ будет установлена по умолчанию текущая дата; флаг не установлен -- в ЭУ будет установлена по умолчанию дата из настройки [.kbd .ph .userinput]`Значение по умолчанию`.
Поведение::
Видимость:::
Настройка видимости: флаг установлен -- элемент управления отображается в карточке; флаг не установлен -- элемент управления (а также его содержимое) не отображается в карточке.
+
`*Адаптивный*`.
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна пользователю для показа данного элемента управления. Действие настройки зависит от значения настройки [.dfn .term]_Видимость_:
+
* флаг `*Видимость*` установлен, [.dfn .term]_операция редактирования для видимости_ выбрана -- видимость элемента определяется доступностью пользователю выбранной операции редактирования;
* флаг `*Видимость*` установлен, [.dfn .term]_операция редактирования для видимости_ НЕ выбрана -- ЭУ всегда отображается;
* флаг `*Видимость*` НЕ установлен -- ЭУ всегда скрыт.
Отключен:::
При установленном флаге отключает возможность изменения значения элемента управления. Работает совместно со свойством «Операция редактирования»: если одно из свойств запрещает редактирования -- редактирование будет запрещено.
+
`*Адаптивный*`.
Запретить выбор будущих дат:::
При установленном флаге пользователю будет запрещено устанавливать и выбирать из календаря даты, позже текущей. Если введена запрещенная дата, будет выдана ошибка.
Запретить выбор прошедшей даты:::
При установленном флаге пользователю будет запрещено устанавливать и выбирать из календаря даты, раньше текущей. Если введена запрещенная дата, будет выдана ошибка.
Переходить по TAB:::
Определяет пользовательскую последовательность очередности обхода карточки по кнопке [.ph .uicontrol]*TAB*. Флаг установлен -- переход по кнопке [.ph .uicontrol]*TAB* разрешен.
Режим редактирования:::
Определяет вариант отображения элемента управления и возможность изменения его значения:
+
* "По месту" -- значение изменяется в отдельном окне, которое открывается при щелчке мыши по элементу управления. Данный вариант подходит как для разметки режима редактирования, так и для разметки режима просмотра карточки.
* "Редактирование" -- значение изменяется непосредственно в элементе управления. Данный вариант может быть выбран в разметке режима редактирования и просмотра.
+
Если элемент с режимом "Редактирование" добавлен в разметку просмотра, необходимо самостоятельно обеспечить возможность сохранения его значения с использованием скриптов карточек.
* "Без редактирования" -- значение изменить нельзя.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
После смены данных:::
Вызывается после изменения содержимого элемента управления.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
