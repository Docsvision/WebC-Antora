= Дерево исполнения

Элемент управления *Дерево исполнения* предназначен для отображения дерева заданий.

ЭУ поддерживает два варианта отображения:

. В карточке отображается кнопка, при нажатии которой будет открыто окно просмотра дерева исполнения.
. В карточке сразу отображается дерево исполнения.
+
.Элемент управления "Дерево исполнения" в карточке документа
image::ct_tasktree_sample.png[Элемент управления "Дерево исполнения" в карточке документа]
+
TIP: При выборе задания или группы заданий будет открыт блок, содержащий информацию о данном элементе.

== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Внешний вид::
Режим отображения:::
Определяет вариант отображения ЭУ в карточке:
+
* *_Кнопка_* - в карточке отображается кнопка для открытия модального окна с деревом исполнения;
* *_Разметка_* - в карточке отображается непосредственно дерево исполнения.
Текст кнопки:::
Текст на кнопке открытия дерева исполнения, когда `*режим отображения*` в значении *_Кнопка_*.
Данные::
Расширенный источник данных:::
Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.
Источник данных:::
Секция карточки, содержащая данные элемента управления.
Поле данных:::
Поле карточки, содержащее ссылку на карточку _Список ссылок на карточки заданий_.
Виды заданий для отображения:::
Выбор видов заданий, отображаемых в дереве исполнения. Если значение не указано, то в дереве исполнения отображаются задания и группы заданий всех видов.
Поведение::
Видимость:::
Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен и не отображается вместе с содержимым, когда флаг снят.
+
`*Адаптивный*`
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Максимальное количество заданий Группы:::
Определяет количество заданий группы заданий, начиная с которого вся ветвь дерева исполнения с данной группой заданий будет отображаться свернутой. Свернутую под действием данного условия ветвь группы заданий можно раскрыть двойным кликом мыши или нажатием на кнопку *+*, отображаемую под названием свёрнутого узла. Если указано значение `*0*`, ветви групп заданий не будут сворачиваться.
+
.Отображение свернутой группы заданий в дереве исполнения
image::ct_tasktree_nodecollapse.png[Отображение свернутой группы заданий в дереве исполнения]
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна, чтобы ЭУ отображался для пользователя. Действие настройки зависит от значения свойства _Видимость_:
+
* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.
Переходить по TAB:::
Флаг определяет последовательность перехода по ЭУ карточки при нажатии кнопки kbd:[TAB]. Если флаг установлен, переход по kbd:[TAB] разрешён.
Просмотр полного дерева:::
Выбор операции, которая должна быть доступна пользователю для возможности просмотра полного дерева заданий.
+
По умолчанию в дереве исполнения пользователь видит только текущее задание и его подчиненные задания. Чтобы просмотреть дерево исполнения вместе с родительскими заданиями, нужно переключить режим отображения. Кнопка переключения режима отображения скрыта, если пользователю недоступна операция, указанная в свойстве `*Просмотр полного дерева*`. Если операция не указана в свойстве, кнопка переключения режима отображения будет отображаться всегда.
Режим отображения группы из 1 задания:::
Определяет вариант отображения в дереве исполнения группы заданий, содержащей единственное задание:
+
* *_Отображать оба_* -- в дереве исполнения будут отображаться узлы группы заданий и задания.
* *_Группа_* -- в дереве исполнения будет отображаться только узел группы заданий, при двойном клике мыши по которому будет выполнен переход к карточке данной группы.
* *_Задание_* -- в дереве исполнения будет отображаться (если сформировано) только узел задания группы заданий, при двойном клике мыши по которому будет выполнен переход к карточке данного задания.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
