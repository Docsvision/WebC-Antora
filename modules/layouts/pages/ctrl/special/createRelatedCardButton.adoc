= Кнопка создания связанной карточки

Элемент управления `_Кнопка создания связанной карточки_` предназначен для создания карточек, связанных с текущей карточкой.

.Пример элемента управления "Кнопка создания связанной карточки"
image::control_CreateRelatedCardButton.png[Пример элемента управления "Кнопка создания связанной карточки"]

ЭУ представляет собой набор кнопок, каждая из которых соответствует режиму создания из Справочника видов карточек.

.Особенности элемента управления "Кнопка создания связанной карточки"
****
* При создании связанной карточки используются настройки режима создания из _Справочника видов карточек_, включающие шаблон, тип ссылки. Свойство `*Отображать диалог выбора папки*` (размещение) игнорируется.
* В связанную карточку копируются значения полей текущей карточки, если это предусмотрено способом создания, который выбран в режиме создания.

.В ЭУ отображаются только режимы создания, которые удовлетворяют следующим условиям:
. В справочнике видов карточек у режима создания установлен флаг `*Отображать команду*`.
. Если в режиме создания указан _Вид родительской карточки_, то вид текущей карточки должен ему соответствовать.
. Если в режиме создания указана _Операция редактирования_, то она должна быть доступна пользователю.
. Если в свойстве `_Способ создания_` выбрано значение, режим создания должен соответствовать ему.
****

[IMPORTANT]
====
После изменения настроек режима создания в Справочнике видов карточек*нужно перезапустить IIS, чтобы изменения стали доступны в {wc}е.
====

TIP: Данный ЭУ может быть добавлен только в разметку просмотра.

== Свойства

include::partial$properties.adoc[tags=general]

=== Внешний вид

==== Вертикальная ориентация

Определяет формат отображения кнопок элемента управления.
+
* Когда флаг установлен, кнопки выстраиваются вертикально.
* Когда флаг не установлен, кнопки выстраиваются горизонтально.

`*Адаптивный*`

include::partial$properties.adoc[tags=hint]

==== Текст

Текст, отображаемый на кнопке, если доступен *только один* режим создания. Если доступно несколько режимов создания, или `*текст*` не указан, на кнопке будет отображаться название режима создания.

`*Локализуемый*`

=== Поведение

include::partial$properties.adoc[tags=visibility]

include::partial$properties.adoc[tags=addCss]

==== Ограничение количества кнопок

Определяет максимальное количество кнопок режимов создания, отображаемых пользователю.
+
* Если пользователю доступно больше режимов создания, чем указано в свойстве, будут показаны только первые `*N*` режимов и кнопка *…* для показа всех режимов.
+
* Если в настройке указано значение `*0*` (значение по умолчанию), отображаются все доступные режимы создания.

`*Адаптивный*`

include::partial$properties.adoc[tags=editOperationForVisibility]

include::partial$properties.adoc[tags=byTab]

==== Режим открытия

Выбор способа открытия окна создания связанной карточки: *_Текущая вкладка_*, *_Новая вкладка_*, *_Новое окно браузера_*.

==== Способ создания

Ограничивает список режимов создания, которые будут доступны пользователю.
+
В списке будут отображаться только режимы со способом создания, выбранным в свойстве `*Способ создания`*. Если в настройке выбрано значение `*-*` (значение по умолчанию), отображаются все доступные режимы создания.

include::partial$properties.adoc[tags=stdCss]

=== События

==== При запросе параметров

Вызывается при инициализации дополнительных параметров для запроса.

include::partial$properties.adoc[tags=mouseOver]

include::partial$properties.adoc[tags=mouseAway]

include::partial$properties.adoc[tags=focusGet]

include::partial$properties.adoc[tags=focusLoose]

include::partial$properties.adoc[tags=onClick]
