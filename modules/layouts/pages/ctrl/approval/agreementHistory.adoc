= Ход согласования

Элемент управления `_Ход согласования_` предоставляет возможность просматривать журнал согласования документа.

ЭУ поддерживает два режима работы:

. В карточке отображается кнопка, при нажатии которой будет открыт журнал согласования.
. В карточке сразу отображается журнал согласования:

.Пример журнала хода согласования
image::controls_agreementhistory.png[Пример журнала хода согласования]

Может быть настроен способ отображения комментариев к решению по согласованию: отображать непосредственно в таблице или в отдельном окне (нажать на значок image:buttons/showAgreementComment.png[Комментарии]).

Доступна возможность программного переопределения метода получения содержимого ячеек таблицы _Ход согласования_ (см. xref:programmer:AgreementHistoryRedefiningRewrite.adoc[]).

== Свойства

=== Общие

==== Название ЭУ

Название типа элемента управления.

==== Название

Уникальное название элемента управления.

=== Внешний вид

==== Комментарий в таблице

Определяет способ отображения комментариев к решению по согласованию в элементе управления:

* Когда флаг установлен, комментарий отображается непосредственно в таблице хода согласования, файл с замечанием доступен по отдельной ссылке.
* Когда флаг снят, в столбце _Комментарий к решению_ отображается значок image:buttons/showAgreementComment.png[Комментарии] для открытия комментарий в отдельном окне.

`*Адаптивный*`

==== Подсказка

Содержимое всплывающей подсказки.

`*Локализуемый*`

==== Текст кнопки

Текст, отображаемый в кнопке. Если значение не установлено, отображается только значок.

`*Локализуемый*`

=== Поведение

==== Видимость

Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен. Элемент управления и любое его содержимое не отображаются, когда флаг снят.

`*Адаптивный*`

==== Дополнительные css классы

Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.

==== Операция редактирования для видимости

Определяет операцию, которая должна быть доступна, чтобы ЭУ отображался для пользователя. Работа свойства зависит от значения свойства `*Видимость*`:

* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.

==== Отключен

Когда флаг установлен, отключается возможность изменить значения элемента управления. Работает совместно со свойством `*Операция редактирования*. Рредактирование будет запрещено, если одно из свойств запрещает редактирование.

`*Адаптивный*`

==== Переходить по TAB

Флаг определяет последовательность перехода по ЭУ карточки при нажатии кнопки kbd:[TAB]. Если флаг установлен, переход по kbd:[TAB] разрешён.

=== Режим

Определяет вариант отображения журнала согласования:

. Кнопка - в карточке отображается кнопка, при нажатии которой будет открыт журнал согласования.
. Разметка - в карточке отображается журнал согласования.

==== Режим открытия

Выбор способа открытия ссылки на задание согласования из таблицы "Ход согласования": "Текущая вкладка", "Новая вкладка", "Новое окно браузера".

==== Стандартный css класс

Название CSS класса, в котором определен стандартный стиль элемента управления.

=== События

==== Перед закрытием окна

Вызывается перед закрытием окна журнала хода согласования.

==== Перед обновлением отчета

Вызывается перед обновлением журнала.

==== Перед открытием окна

Вызывается перед открытием окна журнала хода согласования.

==== После закрытия окна

Вызывается после закрытия окна журнала хода согласования.

==== После обновления отчета

Вызывается после обновления журнала.

==== После открытия окна

Вызывается после открытия окна журнала хода согласования.

==== При наведении курсора

Вызывается при входе курсора мыши в область элемента управления.

==== При отведении курсора

Вызывается, когда курсор мыши покидает область элемента управления.

==== При щелчке

Вызывается при щелчке мыши по любой области элемента управления.
