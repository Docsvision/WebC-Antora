= Файл замечаний

Элемент управления `_Файл замечаний_` предназначен для добавления файла с замечаниями к согласованию.

ЭУ представляет собой поле со ссылкой на файл замечаний и кнопкой image:buttons/bt_kebab.png[три вертикальные точки] для открытия меню.

.Элемент управления "Файл замечаний"
image::ct_commentFile.png[Элемент управления "Файл замечаний"]

Меню, в зависимости от роли пользователя и режима работы элемента управления, может содержать команды для открытия файла с замечаниями, загрузки файла на компьютер, замены и удаления.

TIP: Данный ЭУ может быть добавлен только в разметку, предназначенную для просмотра карточек.

== Свойства

include::partial$properties.adoc[tags=general]

=== Внешний вид

include::partial$properties.adoc[tags=filler]

include::partial$properties.adoc[tags=displayLabelWithoutDefinition]

include::partial$properties.adoc[tags=hint]

include::partial$properties.adoc[tags=labelText]

=== Данные

include::partial$properties.adoc[tags=extendedDataSource]

include::partial$properties.adoc[tags=dataSource]

==== Поле данных

Поле карточки, имеющее тип `FileId`.

==== Операция редактирования

Выбор операции для редактирования значения ЭУ. Если операция недоступна пользователю, то выбор и изменение ссылки будут недоступны. Если операция не выбрана, то возможность изменения ссылки не проверяется.

Если значение `*Операции редактирования*` наследуется от родительского Блока, название свойства меняется на `*Операция редактирования (наследовано)*`.

=== Поведение

include::partial$properties.adoc[tags=visibility]

include::partial$properties.adoc[tags=addCss]

include::partial$properties.adoc[tags=editOperationForVisibility]

==== Обязательное

Определяет требование к заполнению значения ЭУ до сохранения карточки:

* Когда флаг установлен, значение ЭУ должно быть присвоено, иначе карточка не будет сохранена. При этом ЭУ помечается предупреждающим сообщением.
* Когда флаг не установлен, присваивать значение необязательно.

include::partial$properties.adoc[tags=disabled]

include::partial$properties.adoc[tags=byTab]

==== Режим редактирования

Определяет вариант отображения элемента управления и возможность изменения его значения:

* *_По месту_*. Значение изменяется в отдельном окне, которое открывается нажатием на элемент управления. Данный вариант подходит как для разметки режима редактирования, так и для разметки режима просмотра карточки.
* *_Редактирование_*. Значение изменяется непосредственно в элементе управления. Данный вариант может быть выбран в разметке режима редактирования и просмотра.
+
Если элемент с режимом *_Редактирование_* добавлен в разметку просмотра, необходимо самостоятельно обеспечить сохранение его значения. Например, с использованием скриптов карточек.
* *_Без редактирования_*. Значение изменить нельзя.

include::partial$properties.adoc[tags=stdCss]

=== События

==== Перед открытием диалога выбора файла

Вызывается перед открытием диалога выбора файла замечаний.

==== Перед открытием превью

Вызывается перед открытием предварительного просмотра файла.

==== Перед открытием файла через WebDAV

Вызывается перед открытием файла с использование WebDAV.

include::partial$properties.adoc[tags=onWebDAVSave]

==== Перед скачиванием файла

Вызывается перед скачиванием файла.

==== Перед удалением файла

Вызывается перед удалением файла.

==== После закрытия диалога выбора файла

Событие, возникающее после открытия окна выбора файла, но до загрузки файла на сервер и установления значения элемента управления.

==== После открытия превью

Вызывается после открытия предварительного просмотра файла.

==== После удаления файла

Вызывается после удаления файла.

include::partial$properties.adoc[tags=mouseOver]

include::partial$properties.adoc[tags=mouseAway]

include::partial$properties.adoc[tags=focusGet]

include::partial$properties.adoc[tags=focusLoose]

include::partial$properties.adoc[tags=dataChanged]

include::partial$properties.adoc[tags=onClick]
