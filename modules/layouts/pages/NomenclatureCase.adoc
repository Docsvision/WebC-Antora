
== Дело

Элемент управления *Дело* предназначен для списания текущего документа в выбранное дело _Справочника номенклатуры дел_.

Вариант отображения ЭУ зависит от настройки `Режим             редактирования`:

* Редактирование - ЭУ в данном режиме может быть использован только в разметке режима редактирования карточки. В режиме `Редактирование` поддерживается быстрый поиск и выбор из _Справочника_.
+
image::caseControl.png[Элемент управления "Дело" в режиме редактирования]
+
[NOTE]
====
[.note__title]#Прим.:#

Поиск осуществляется по заголовку и индексу всех дел справочника, а также по наименованию и индексу разделов. Быстрый поиск по умолчанию осуществляется по наиболее близкому к текущей дате году. Чтобы выбрать дело из другого года, необходимо перейти в справочник;
====
* По месту - ЭУ в данном режиме может быть использован в разметке режима чтения и редактирования карточки. Выбор и изменение дел осуществляется при нажатии на ссылку в ЭУ. Поиск и выбор осуществляется аналогично поиску и выбору для режима `Редактирование`.
+
[NOTE]
====
[.note__title]#Прим.:#

При быстром поиске и поиске из справочника происходит проверка прав. Это значит, что пользователь увидит только те элементы, к которым у него есть доступ на чтение, изменение и списание документа в дело.
====
+
image::writtenOfftoCaseOnplaceedit.png[Элемент управления "Дело" в режиме редактирования по месту]
* Без редактирования - ЭУ в данном режиме отображает дело, в которое был списан документ.
+
image::writtenOfftoCase.png[Элемент управления "Дело" в режиме без редактирования]

== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Внешний вид::
Отображать метку без значения:::
Определяет вариант отображения метки.
* Когда флаг установлен, текст метки отображается всегда.
* Когда флаг не установлен, текст метки отображается только, если задано значение ЭУ.
Подсказка:::
Текст всплывающей подсказки, отображаемой при наведении на метку.
+
`*Локализуемый*`
Показывать год:::
По умолчанию свойство активно. Свойство влияет на отображение года в пользовательском интерфейсе при открытии справочника.
+
Подсказка к значению:::
Содержимое всплывающей подсказки, отображаемой при наведении курсора на строку.
+
`*Локализуемый*`
Текст метки:::
Содержимое метки, отображаемой слева от элемента управления.
+
`*Локализуемый*`

Данные::
Расширенный источник данных:::
Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.
Источник данных:::
Секция карточки, содержащая данные элемента управления.
+
Если источник данных не определён, то при выборе дела запись об этом фиксируется в соответствующей строке секции карточки документа, а также в карточке дела добавляется ссылка на документ.
Поле данных:::
Поле карточки, содержащее ссылку на карточку _Архивное дело_.
+
Для отображения ссылки в карточке дела сохраняются следующие поля карточки документа: RefDocument, Digest и Registered (необходима привязка к полю RefCardID - Архивное дело).
Операция редактирования:::
Выбор операции редактирования значения элемента управления. Если операция недоступна пользователю, то изменение значения элемента управления также недоступно. Если операция не выбрана, то возможность редактирования значения элемента управления не проверяется.
+
Если значение `*Операции редактирования*` наследуется от родительского Блока, название свойства меняется на `*Операция редактирования (наследовано)*`.
+
Если в настройках ЭУ *"Дело"* раздел Данные не заполнен, то при добавлении документа в дело, информация о списанном документе появляется в карточке дела, а ссылка на дело в карточку документа не добавляется.
Поведение::
Видимость:::
Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен. Эелемент управления и любое его содержимое не отображаются, когда флаг снят.
+
`*Адаптивный*`
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Задержка поиска (мс):::
Интервал времени от ввода символа в строку поиска до выполнения быстрого поиска. По умолчанию 500 мс.
Обязательное:::
Определяет требование к заполнению значения ЭУ до сохранения карточки:
* Когда флаг установлен, значение ЭУ должно быть присвоено, иначе карточка не будет сохранена. При этом ЭУ помечается предупреждающим сообщением.
* Когда флаг не установлен, присваивать значение необязательно.
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна, чтобы ЭУ отображался для пользователя. Работа свойства зависит от значения свойства `*Видимость*`:
+
* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.
Отключен:::
Когда флаг установлен, отключается возможность изменить значения элемента управления. Работает совместно со свойством `*Операция редактирования*`:редактирование будет запрещено, если одно из свойств запрещает редактирование.
+
`*Адаптивный*`
Режим редактирования:::
Определяет вариант отображения элемента управления и возможность изменения его значения:
+
* *_По месту_* -- значение изменяется в отдельном окне, которое открывается нажатием на элемент управления. Данный вариант подходит как для разметки режима редактирования, так и для разметки режима просмотра карточки.
* *_Редактирование_* -- значение изменяется непосредственно в элементе управления. Данный вариант может быть выбран в разметке режима редактирования и просмотра.
+
Если элемент с режимом *_Редактирование_* добавлен в разметку просмотра, необходимо самостоятельно обеспечить сохранение его значения. Например, используя скриптов карточек.
* *_Без редактирования_* -- значение изменить нельзя.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
Перед выбором значения:::
Вызывается перед выбором значения элемента управления.
Перед загрузкой результатов поиска:::
Вызывается перед загрузкой результатов поиска.
Перед закрытием формы выбора дела:::
Вызывается перед закрытием формы выбора дела.
Перед открытием формы выбора дела:::
Вызывается перед открытием формы выбора дела.
Перед удалением значения:::
Вызывается перед удалением значения элемента управления.
После выбора значения:::
Вызывается после выбора значения из справочника.
После загрузки результатов поиска:::
Вызывается после загрузки результатов поиска.
После смены данных:::
Вызывается после изменения содержимого элемента управления.
После закрытия формы выбора дела:::
Вызывается после закрытия формы выбора дела.
После открытия формы выбора дела:::
Вызывается перед открытием формы выбора дела.
После удаления значения:::
Вызывается после удаления значения элемента управления.
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
При получении фокуса:::
Вызывается, когда элемент управления выбирается.
При потере фокуса:::
Вызывается, когда выбор переходит к другому элементу управления.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
