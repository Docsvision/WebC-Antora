
== История

Элемент управления *История* предназначен для отображения истории изменений в карточке.

ЭУ поддерживает два варианта отображения:

. В карточке отображается кнопка, при нажатии которой будет открыто окно просмотра истории карточки.
. В карточке отображаются последние изменения (количество отображаемых значений настраивается) и кнопка, при нажатии которой будет открыто окно просмотра истории карточки:
+
image::cs_history_listmode.png[Элемент управления "История" с использованием просмотра в карточке]

Окно просмотра истории изменений карточки предоставляет возможность фильтровать историю по автору, дате и описанию события карточки.

image::cs_history_historylist.png[Пример журнала изменений карточки]

== Свойства

Общие::
Название ЭУ:::
Название типа элемента управления.
Название:::
Уникальное название элемента управления.
Внешний вид::
Записей в предпросмотре:::
Определяет количество отображаемых записей из истории карточки.
Использовать просмотр в карточке:::
Настройка отображения последних операций непосредственно в карточке: флаг установлен - в карточке отображаются несколько последних операций с карточкой и кнопка для открытия окна [.keyword .wintitle]*История карточки*, в котором можно просмотреть всю историю; флаг не установлен - в карточке отображается кнопка для открытия окна [.keyword .wintitle]*История карточки*.
+
`*Адаптивный*`
Подсказка:::
Содержимое всплывающей подсказки.
+
`*Локализуемый*`.
Текст кнопки:::
Текст, отображаемый в кнопке. Если значение не установлено, отображается только значок.
+
`*Локализуемый*`
Данные::
Операция редактирования:::
Выбор операции, которая должна быть доступна пользователю для просмотра истории карточки.
+
Если значение `*Операции редактирования*` наследуется от родительского Блока, название настройки меняется на `*Операция редактирования (наследовано)*`.
Скрывать операции:::
Настройка списка видов операций, не отображаемых в ЭУ.
+
Настройка осуществляется в форме, открываемой при нажатии кнопки image:buttons/bt_dots.png[Три точки]:
+
image::cs_history_hiddenelements.png[Окно настройки списка видов операций, не отображаемых в ЭУ]
Поведение::
Видимость:::
Настройка видимости. Элемент управления отображается в карточке, когда флаг установлен и не отображается вместе с содержимым, когда флаг снят.
+
`*Адаптивный*`
Дополнительные css классы:::
Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
Операция редактирования для видимости:::
Определяет операцию, которая должна быть доступна пользователю для показа данного элемента управления. Действие настройки зависит от значения свойства _Видимость_:
+
* Когда флаг `*Видимость*` установлен и выбрана _операция редактирования для видимости_, видимость элемента определяется исходя из доступности пользователю выбранной операции редактирования.
* Когда флаг `*Видимость*` установлен, и _операция редактирования для видимости_ НЕ выбрана, ЭУ отображается всегда.
* Когда флаг `*Видимость*` НЕ установлен, ЭУ всегда скрыт.
Отключен:::
Когда флаг установлен, отключается возможность изменить значения элемента управления. Работает совместно со свойством `*Операция редактирования*`: если одно из свойств запрещает редактирования, редактирование будет запрещено.
+
`*Адаптивный*`
Переходить по TAB:::
Флаг определяет последовательность перехода по ЭУ карточки при нажатии кнопки kbd:[TAB]. Если флаг установлен, переход по kbd:[TAB] разрешён.
Стандартный css класс:::
Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
Перед закрытием окна:::
Вызывается перед закрытием окна просмотра истории.
Перед открытием окна:::
Вызывается перед открытием окна просмотра истории.
После закрытия окна:::
Вызывается после закрытия окна просмотра истории.
После открытия окна:::
Вызывается после открытия окна просмотра истории.
При наведении курсора:::
Вызывается при входе курсора мыши в область элемента управления.
При отведении курсора:::
Вызывается, когда курсор мыши покидает область элемента управления.
При получении фокуса:::
Вызывается, когда элемент управления выбирается.
При потере фокуса:::
Вызывается, когда выбор переходит к другому элементу управления.
При щелчке:::
Вызывается при щелчке мыши по любой области элемента управления.
