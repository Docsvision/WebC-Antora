
== История

Элемент управления [.ph .uicontrol]*История* предназначен для отображения истории изменений в карточке.

ЭУ поддерживает два варианта отображения:

. В карточке отображается кнопка, при нажатии которой будет открыто окно просмотра истории карточки.
. В карточке отображаются последние изменения (количество отображаемых значений настраивается) и кнопка, при нажатии которой будет открыто окно просмотра истории карточки:
+
image::cs_history_listmode.png[[.fig--title-label]##Рис. 1. ##Элемент управления «История» с использованием просмотра в карточке]

Окно просмотра истории изменений карточки предоставляет возможность фильтровать историю по автору, дате и описанию события карточки.

image::cs_history_historylist.png[[.fig--title-label]##Рис. 2. ##Пример журнала изменений карточки]

=== Свойства

Общие::
  Название ЭУ;;
    Название типа элемента управления.
  Название;;
    Уникальное название элемента управления.
Внешний вид::
  Записей в предпросмотре;;
    Определяет количество отображаемых записей из истории карточки.
  Использовать просмотр в карточке;;
    Настройка отображения последних операций непосредственно в карточке: флаг установлен - в карточке отображаются несколько последних операций с карточкой и кнопка для открытия окна [.keyword .wintitle]*История карточки*, в котором можно просмотреть всю историю; флаг не установлен - в карточке отображается кнопка для открытия окна [.keyword .wintitle]*История карточки*.
    +
    [.dfn .term]_Адаптивный_.
  Подсказка;;
    Содержимое всплывающей подсказки.
    +
    [#concept_jps_14j_3bb__d7e65 .dfn .term]#Локализуемый#.
  Текст кнопки;;
    Текст, отображаемый в кнопке. Если значение не установлено, отображается только значок.
    +
    [.dfn .term]_Локализуемый_.
Данные::
  Операция редактирования;;
    Выбор операции, которая должна быть доступна пользователю для просмотра истории карточки.
    +
    Если значение [.dfn .term]_Операции редактирования_ наследуется от родительского Блока, название настройки меняется на «Операция редактирования (наследовано)».
  Скрывать операции;;
    Настройка списка видов операций, не отображаемых в ЭУ.
    +
    Настройка осуществляется в форме, открываемой при нажатии кнопки image:buttons/bt_dots.png[Три точки]:
    +
    image::cs_history_hiddenelements.png[[.fig--title-label]##Рис. 3. ##Окно настройки списка видов операций, не отображаемых в ЭУ]
Поведение::
  Видимость;;
    Настройка видимости: флаг установлен – элемент управления отображается в карточке; флаг не установлен – элемент управления (а также его содержимое) не отображается в карточке.
    +
    [.dfn .term]_Адаптивный_.
  Дополнительные css классы;;
    Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
  Операция редактирования для видимости;;
    Определяет операцию, которая должна быть доступна пользователю для показа данного элемента управления. Действие настройки зависит от значения настройки [.dfn .term]_Видимость_:
    +
    * флаг [.dfn .term]_Видимость_ установлен, [.dfn .term]_операция редактирования для видимости_ выбрана – видимость элемента определяется доступностью пользователю выбранной операции редактирования;
    * флаг [.dfn .term]_Видимость_ установлен, [.dfn .term]_операция редактирования для видимости_ НЕ выбрана – ЭУ всегда отображается;
    * флаг [.dfn .term]_Видимость_ НЕ установлен – ЭУ всегда скрыт.
  Отключен;;
    При установленном флаге отключает возможность изменения значения элемента управления. Работает совместно со свойством «Операция редактирования»: если одно из свойств запрещает редактирования – редактирование будет запрещено.
    +
    [.dfn .term]_Адаптивный_.
  Переходить по TAB;;
    Определяет пользовательскую последовательность очередности обхода карточки по кнопке [.ph .uicontrol]*TAB*. Флаг установлен – переход по кнопке [.ph .uicontrol]*TAB* разрешен.
  Стандартный css класс;;
    Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
  Перед закрытием окна;;
    Вызывается перед закрытием окна просмотра истории.
  Перед открытием окна;;
    Вызывается перед открытием окна просмотра истории.
  После закрытия окна;;
    Вызывается после закрытия окна просмотра истории.
  После открытия окна;;
    Вызывается после открытия окна просмотра истории.
  При наведении курсора;;
    Вызывается при входе курсора мыши в область элемента управления.
  При отведении курсора;;
    Вызывается, когда курсор мыши покидает область элемента управления.
  При получении фокуса;;
    Вызывается, когда элемент управления выбирается.
  При потере фокуса;;
    Вызывается, когда выбор переходит к другому элементу управления.
  При щелчке;;
    Вызывается при щелчке мыши по любой области элемента управления.

