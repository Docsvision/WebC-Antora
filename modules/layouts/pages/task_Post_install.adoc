
== Действия после установки Web-клиента

. Администратор Модуля должен выдать полные права доступа (чтение и изменение) учетной записи, от имени которой запускается пул приложений IIS c веб-приложением Модуля, к перечисленным подкаталогам каталога установки Web-клиента:
[loweralpha]
.. [.ph .filepath]`Site\App_Data`;
.. [.ph .filepath]`Site\Content\Extensions`;
.. [.ph .filepath]`Site\Content\Modules`;
.. [.ph .filepath]`Logs` (каталог по умолчанию для сохранения журналов работы Модуля) или другому каталогу журналов работы.
. Администратор Модуля должен настроить в IIS методы проверки подлинности для приложения Модуля: должны быть включены методы «Анонимная проверка подлинности» и «Проверка подлинности с помощью форм», другие методы проверки следует отключить.
+
image::iis_authentication.png[[.fig--title-label]##Рис. 1. ##Настройки проверки подлинности в IIS]
. По умолчанию IIS запрещает загрузку файлов с расширениями .ascx, .cs и .java. Если нужно предоставить возможность загружать данные файлы в карточки, выполните следующую настройку:
[loweralpha]
.. В IIS перейдите в настройки фильтрации запросов сайта Web-клиента (пункт «Фильтрация запросов» в разделе «IIS» настроек сайта).
+
image::task_Post_install.png[[.fig--title-label]##Рис. 2. ##Настройки фильтрации запросов сайта Web-клиента]
.. Удалите из списка файлы с расширениями .ascx, .cs и .java с помощью команды [.ph .uicontrol]*Удалить*.
. Если компьютер, на который установлен Web-клиент, работает под управлением Microsoft Windows Server 2016, нужно отключить компонент [.keyword]*WEBDAVModule* одним из двух способов:
* удалить компонент «WebDAV Publishing feature» в ролях сервера:
[loweralpha]
.. Откройте раздел «Programs and Features» в Диспетчере серверов.
.. Снимите флаг с компонента [.ph .menucascade]#[.ph .uicontrol]*Internet Information Services* > [.ph .uicontrol]*World Wide Web Services* > [.ph .uicontrol]*Common HTTP Features* > [.ph .uicontrol]*WebDAV Publishing*#.
.. Сохраните изменения.
.. Перезагрузите IIS для применения изменений.
* добавить команду удаления компонента «WebDAV» в конфигурационный файл Модуля:
[loweralpha]
.. Откройте конфигурационный файл [.ph .filepath]`[Каталог установки Web-клиента]\5.5\Site\web.config` .
.. Перейдите к разделу [.ph .menucascade]#[.ph .uicontrol]*system.webServer* > [.ph .uicontrol]*modules*#.
.. Добавьте строку «<remove name="WebDAVModule" />»:
+
[source,pre,codeblock]
----
<system.webServer>
 <modules>
  <remove name="WebDAVModule" />
 </modules>
</system.webServer>
----
.. Сохраните изменения конфигурационного файла.
. При настройке прочих параметров IIS следует руководствоваться следующими рекомендациями по настройке пула приложений Web-клиента:
* не изменять стандартное значение параметра «Отключить перезапуск с перекрытием» (Disabled Overlapped Recycle) – «False»;
* параметр «Постоянный временной интервал» (Regular Time Interval) установить в значение «0»;
* автоматический перезапуск рекомендуется настроить на время, когда Web-клиент не используется или используется менее интенсивно (например, в ночное время).
+
[NOTE]
====
[.note__title]#Прим.:# Во время перезапуска Web-клиент будет недоступен пользователям.

При «Disabled Overlapped Recycle» установленном в значение «False» работа Web-клиента во время перезапуска (когда существуют два экземпляра приложения) может сопровождаться ошибками.
====
. Если Web-клиент функционирует в кластере, выполните инструкцию xref:MakeDvWebToolForCluster.html[Настройка утилиты DVWebTool для работы в кластере]. Также данную инструкцию нужно выполнить, если подключение к Web-клиенту осуществляется через промежуточное устройство и при этом сервер Web-клиента недоступен пользователям по его по его фактическому адресу.

* *xref:../topics/task_Withoutad_config.html[Настройка Модуля в сети без Active Directory]* +

*На уровень выше:* xref:../topics/Install_and_configuration.html[Установка и настройка]
