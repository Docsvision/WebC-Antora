
== Использование таблицы для работы с коллекционной секцией карточки

Элемент разметки xref:Control_table.adoc[Таблица] предоставляет механизм доступа к данными коллекционной секции карточки.

В общем случае для реализации доступа к данным коллекционной секции карточки потребуется:

. Добавить в разметку элемент разметки [.ph .uicontrol]*Таблица*. В свойствах данного элемента необходимо выбрать коллекционную секцию карточки, с которой связывается таблица.
. Добавить в таблицу один или несколько элементов разметки xref:Control_tablecolumn.adoc[Столбец таблицы]. В свойствах столбцов нужно указать их заголовки.
. Добавить в каждый столбец элемент управления для связывания с полем секции. Тип добавляемого элемента управления должен соответствовать типу поля секции.
. Каждый добавленный в столбец элемент управления связывается с полем секции.

Рассмотрим возможность использования [.dfn .term]_Таблицы_ для отображения комментариев к документу (секция «Комментарии»).

. Добавляем в разметку (карточки Документ) режима просмотра элемент разметки [.ph .uicontrol]*Таблица*.
+
image::sample_usetable_1.png[[.fig--title-label]##Рис. 1. ##Добавление Таблицы в разметку]
. Настраиваем таблицу:
[loweralpha]
.. Указываем `Заголовок`.
.. Выбираем `Источник данных`.
+
Если потребуется, можно изменить другие настройки таблицы.
. Добавляем в таблицу три элемента разметки [.ph .uicontrol]*Столбец таблицы* – по числу полей в секции «Комментарии».
+
image::sample_usetable_2.png[[.fig--title-label]##Рис. 2. ##Добавление Столбцов таблицы в разметку]
. Для каждого столбца задаем `Заголовок`, соответствующий типу отображаемых данных: «Автор комментария», «Дата» и «Текст».
. Добавляем в столбцы элементы управления, соответствующие типам полей:
* xref:Control_employee.adoc[Сотрудник] в столбец «Автор комментария».
* xref:Control_datetimepicker.adoc[Дата/время] в столбец «Дата».
* xref:Control_textbox.adoc[Строка] (или xref:Control_textarea.adoc[Текст]) в столбец «Текст».
+
image::sample_usetable_3.png[[.fig--title-label]##Рис. 3. ##Добавление элементов управления в столбцы]
. Настраиваем добавленные элементы управления:
[loweralpha]
.. Для сотрудника выбираем `Поле данных`: «Автор комментария».
.. Для даты комментария выбираем `Поле данных`: «Дата время комментария».
.. Для содержимого комментария выбираем `Поле данных`: «Текст комментария».
. xref:layout_save.adoc[Сохраняем разметку].
+
image::sample_usetable_result.png[[.fig--title-label]##Рис. 4. ##Пример отображения настроенной Таблицы]

