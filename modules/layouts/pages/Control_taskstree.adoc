
== Дерево исполнения

Элемент управления [.ph .uicontrol]*Дерево исполнения* предназначен для отображения дерева заданий.

ЭУ поддерживает два варианта отображения:

. В карточке отображается кнопка, при нажатии которой будет открыто окно просмотра дерева исполнения.
. В карточке сразу отображается дерево исполнения.
+
image::ct_tasktree_sample.png[[.fig--title-label]##Рис. 1. ##Элемент управления «Дерево исполнения» в карточке документа]
+
При выборе задания или группы заданий будет открыт блок, содержащий информацию о данном элементе.

=== Свойства

Общие::
  Название ЭУ;;
    Название типа элемента управления.
  Название;;
    Уникальное название элемента управления.
Внешний вид::
  Режим отображения;;
    Определяет вариант отображения [.dfn .term]_ЭУ_ в карточке:
    +
    * "Кнопка" - в карточке отображается кнопка для открытия модального окна с деревом исполнения;
    * "Разметка" - в карточке отображается непосредственно дерево исполнения.
  Текст кнопки;;
    Текст на кнопке открытия дерева исполнения, когда `режим отображения` в значении "Кнопка".
Данные::
  Расширенный источник данных;;
    Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.
  Источник данных;;
    Секция карточки, содержащая данные элемента управления.
  Поле данных;;
    Поле карточки, содержащее ссылку на карточку [.dfn .term]_Список ссылок на карточки заданий_.
  Виды заданий для отображения;;
    Выбор видов заданий, отображаемых в дереве исполнения. Если значение не указано, то в дереве исполнения отображаются задания и группы заданий всех видов.
Поведение::
  Видимость;;
    Настройка видимости: флаг установлен – элемент управления отображается в карточке; флаг не установлен – элемент управления (а также его содержимое) не отображается в карточке.
    +
    [.dfn .term]_Адаптивный_.
  Дополнительные css классы;;
    Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
  Максимальное количество заданий Группы;;
    Определяет количество заданий группы заданий, начиная с которого вся ветвь дерева исполнения с данной группой заданий будет отображаться свернутой. Свернутую под действием данного условия ветвь группы заданий можно раскрыть двойным кликом мыши или нажатием на кнопку [.ph .uicontrol]*+*, отображаемую под названием свёрнутого узла. Если указано значение "0", ветви групп заданий не будут сворачиваться.
    +
    image::ct_tasktree_nodecollapse.png[[.fig--title-label]##Рис. 2. ##Отображение свернутой группы заданий в дереве исполнения]
  Операция редактирования для видимости;;
    Определяет операцию, которая должна быть доступна пользователю для показа данного элемента управления. Действие настройки зависит от значения настройки [.dfn .term]_Видимость_:
    +
    * флаг [.dfn .term]_Видимость_ установлен, [.dfn .term]_операция редактирования для видимости_ выбрана – видимость элемента определяется доступностью пользователю выбранной операции редактирования;
    * флаг [.dfn .term]_Видимость_ установлен, [.dfn .term]_операция редактирования для видимости_ НЕ выбрана – ЭУ всегда отображается;
    * флаг [.dfn .term]_Видимость_ НЕ установлен – ЭУ всегда скрыт.
  Переходить по TAB;;
    Определяет пользовательскую последовательность очередности обхода карточки по кнопке [.ph .uicontrol]*TAB*. Флаг установлен – переход по кнопке [.ph .uicontrol]*TAB* разрешен.
  Просмотр полного дерева;;
    Выбор операции, которая должна быть доступна пользователю для возможности просмотра полного дерева заданий.
    +
    По умолчанию у пользователя в заданиях и группах заданий в дереве исполнения отображаются только текущее задание и его подчиненные задания. Чтобы просмотреть полное дерево исполнения (с родительскими заданиями) пользователю нужно нажать кнопку переключения режима, которая скрыта, если пользователю недоступна операция, указанная в данной настройке. Если операция не указана, то кнопка переключения режима отображения дерева исполнения будет показана всегда.
  Режим отображения группы из 1 задания;;
    Определяет вариант отображения в дереве исполнения группы заданий, содержащей единственное задание:
    +
    * "Отображать оба" - в дереве исполнения будут отображаться узлы группы заданий и задания;
    * "Группа" - в дереве исполнения будет отображаться только узел группы заданий, при двойном клике мыши по которому будет выполнен переход к карточке данной группы;
    * "Задание" - в дереве исполнения будет отображаться (если сформировано) только узел задания группы заданий, при двойном клике мыши по которому будет выполнен переход к карточке данного задания.
  Стандартный css класс;;
    Название CSS класса, в котором определен стандартный стиль элемента управления.
События::
  При наведении курсора;;
    Вызывается при входе курсора мыши в область элемента управления.
  При отведении курсора;;
    Вызывается, когда курсор мыши покидает область элемента управления.
  При щелчке;;
    Вызывается при щелчке мыши по любой области элемента управления.

