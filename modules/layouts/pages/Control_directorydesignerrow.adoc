
== Строка конструктора справочников

Элемент управления [.ph .uicontrol]*Строка конструктора справочников* предназначен для отображения и выбора строки из [.dfn .term]_Конструктора справочников_.

Вариант отображения [.dfn .term]_ЭУ_ зависит от настройки `Режим     редактирования`:

* Редактирование - [.dfn .term]_ЭУ_ в данном режиме может быть использован в разметке режима чтения и редактирования карточки. В режиме `Редактирование` поддерживается быстрый поиск и выбор записи из [.dfn .term]_Конструктора справочников_.
+
image::ct_baseuniversal_editmode.png[[.fig--title-label]##Рис. 1. ##Элемент управления «Строка конструктора справочников» в режиме редактирования]
+
Быстрый поиск осуществляется по названию записи, а в режиме выбора из справочника - по названию и описанию.
* По месту - [.dfn .term]_ЭУ_ в данном режиме может быть использован в разметке режима чтения и редактирования карточки. Выбор и изменение записи осуществляется при нажатии на ссылку в [.dfn .term]_ЭУ_. Поиск и выбор осуществляется аналогично поиску и выбору для режима Редактирование.
+
image::ct_baseuniversal_showmode.png[[.fig--title-label]##Рис. 2. ##Элемент управления «Строка конструктора справочников» в режиме редактирования по месту]
* Без редактирования - [.dfn .term]_ЭУ_ в данном режиме отображает название записи из связанного поля карточки.

[.dfn .term]_ЭУ_ может быть настроен для ограничения области выбора:

* возможность ограничить выбор записи только из определенного узла Конструктора справочников
* функцию быстрого поиска для выбора организации или подразделения;
* возможность ограничить область выбора: только узел или узел и дочерние узлы.

=== Свойства

Общие::
  Название ЭУ;;
    Название типа элемента управления.
  Название;;
    Уникальное название элемента управления.
Внешний вид::
  Заполнитель;;
    Текст, отображаемый в элементе управления, если строка справочника не выбрана.
    +
    [.dfn .term]_Локализуемый_.
  Использовать описание;;
    Данное свойство влияет на отображение поля описание при открытии справочника.
    +
    Описания длиннее двух строк будут отображаться не полностью, а с многоточием в конце. Полный текст описания отображается во всплывающей подсказке при наведении курсора. При наведении курсора название и описание выделяются цветом и становятся доступными для выбора. Когда значение в строке выбрано, описание в ЭУ не показывается.
  Отображать метку без значения;;
    Определяет вариант отображения метки: флаг установлен – текст метки отображается всегда; флаг не установлен – текст метки отображается только, когда задано значение [.dfn .term]_ЭУ_.
  Подсказка;;
    Содержимое всплывающей подсказки.
    +
    [#concept_bmh_3tn_fz__d7e65 .dfn .term]#Локализуемый#.
  Текст метки;;
    Содержимое метки, отображаемой слева от элемента управления.
    +
    [.dfn .term]_Локализуемый_.
Данные::
  Расширенный источник данных;;
    Выбор типа источника данных элемента управления: текущая карточка или один из типов, настроенных в корневом элементе разметки.
  Источник данных;;
    Секция карточки, содержащая данные элемента управления.
  Поле данных;;
    Поле карточки, содержащее ссылку на организацию [.dfn .term]_Конструктора справочников_.
  Операция редактирования;;
    Выбор операции редактирования значения элемента управления. Если операция недоступна пользователю, то изменение значения элемента управления также недоступно. Если операция не выбрана, то возможность редактирования значения элемента управления не проверяется.
    +
    Если значение [.dfn .term]_Операции редактирования_ наследуется от родительского Блока, название настройки меняется на «Операция редактирования (наследовано)».
Поведение::
  Видимость;;
    Настройка видимости: флаг установлен – элемент управления отображается в карточке; флаг не установлен – элемент управления (а также его содержимое) не отображается в карточке.
    +
    [.dfn .term]_Адаптивный_.
  Дополнительные css классы;;
    Названия дополнительных классов CSS для изменения стиля элемента управления. Перечисляются через пробел.
  Задержка поиска (мс);;
    Определяет время задержки (в мс) от ввода последнего символа в строку поиска до выполнения быстрого поиска по справочнику.
  Значение по умолчанию;;
    Строка [.dfn .term]_Конструктора справочников_, выбранная по умолчанию.
  Область выбора;;
    Устанавливает ограничение возможности выбора пользователем строк из узла [.dfn .term]_Конструктора справочников_:
    +
    * Только выбранный узел – пользователю будут доступны для выбора только строки выбранного узла.
    * Только дочерние узлы к выбранному – пользователю будут доступны для выбора строки только из подчиненных узлов выбранного узла.
    * Выбранный и дочерние к нему – пользователю будут доступны для выбора строки выбранного узла и его подчиненных узлов.
    +
    Данная настройка отображается, когда узел выбран – свойство [.ph .uicontrol]*Узел*.
  Обязательное;;
    Определяет требование к заполнению значения [.dfn .term]_ЭУ_ до сохранения карточки: флаг установлен – значение должно быть присвоено, иначе карточка не будет сохранена ([.dfn .term]_ЭУ_ помечается предупреждающим сообщением); флаг не установлен – присваивать значение не обязательно.
  Операция редактирования для видимости;;
    Определяет операцию, которая должна быть доступна пользователю для показа данного элемента управления. Действие настройки зависит от значения настройки [.dfn .term]_Видимость_:
    +
    * флаг [.dfn .term]_Видимость_ установлен, [.dfn .term]_операция редактирования для видимости_ выбрана – видимость элемента определяется доступностью пользователю выбранной операции редактирования;
    * флаг [.dfn .term]_Видимость_ установлен, [.dfn .term]_операция редактирования для видимости_ НЕ выбрана – ЭУ всегда отображается;
    * флаг [.dfn .term]_Видимость_ НЕ установлен – ЭУ всегда скрыт.
  Отключен;;
    При установленном флаге отключает возможность изменения значения элемента управления. Работает совместно со свойством «Операция редактирования»: если одно из свойств запрещает редактирования – редактирование будет запрещено.
    +
    [.dfn .term]_Адаптивный_.
  Переходить по TAB;;
    Определяет пользовательскую последовательность очередности обхода карточки по кнопке [.ph .uicontrol]*TAB*. Флаг установлен – переход по кнопке [.ph .uicontrol]*TAB* разрешен.
  Режим редактирования;;
    Определяет вариант отображения элемента управления и возможность изменения его значения:
    +
    * "По месту" – значение изменяется в отдельном окне, которое открывается при щелчке мыши по элементу управления. Данный вариант подходит как для разметки режима редактирования, так и для разметки режима просмотра карточки.
    * "Редактирование" – значение изменяется непосредственно в элементе управления. Данный вариант может быть выбран в разметке режима редактирования и просмотра.
    +
    Если элемент с режимом "Редактирование" добавлен в разметку просмотра, необходимо самостоятельно обеспечить возможность сохранения его значения с использованием скриптов карточек.
    * "Без редактирования" – значение изменить нельзя.
  Стандартный css класс;;
    Название CSS класса, в котором определен стандартный стиль элемента управления.
  Узел;;
    Определяет узел [.dfn .term]_Конструктора справочников_, из которого пользователь может выбирать строки. Если узел не выбран, то предоставляется возможность выбирать строку из всего справочника.
    +
    При работе, выбранный корневой узел не будет отображаться в дереве узлов справочника – отображаются только его подчинённые узлы и строки.
События::
  События;;
    Перед закрытием окна редактирования::
      Вызывается перед закрытием окна редактирования в режиме редактирования "По месту".
    Перед закрытием окна справочника::
      Вызывается перед закрытием окна выбора значения из справочника.
    Перед открытием окна редактирования::
      Вызывается перед открытием окна редактирования в режиме редактирования "По месту".
    Перед открытием окна справочника::
      Вызывается перед открытием окна выбора значения из справочника.
    После закрытия окна редактирования::
      Вызывается после закрытия окна редактирования в режиме редактирования "По месту".
    После закрытия окна справочника::
      Вызывается после закрытия окна выбора значения из справочника.
    После открытия окна редактирования::
      Вызывается после открытия окна редактирования в режиме редактирования "По месту".
    После открытия окна справочника::
      Вызывается после открытия окна выбора значения из справочника.
    При наведении курсора::
      Вызывается при входе курсора мыши в область элемента управления.
    При отведении курсора::
      Вызывается, когда курсор мыши покидает область элемента управления.
    После смены данных::
      Вызывается после изменения содержимого элемента управления.
    При щелчке::
      Вызывается при щелчке мыши по любой области элемента управления.

*На уровень выше:* xref:../topics/DictionaryControls.html[Справочники]
