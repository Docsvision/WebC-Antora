= Порядок обновления на новую версию Web-клиента

.Порядок обновления:

. С помощью «Мастера добавления ролей и компонентов» установите компонент «Инициализация приложений» («Application Initialization»):

image:applicationInitialization.png[Компоненты IIS в Мастере добавления ролей и компонентов]

. Создайте резервную копию каталога установки Web-клиента.

. Остановите пул приложений «DocsvisionSitePool» на компьютере с сервером Web-клиента.

. Установите новую версию серверного расширения «Web-клиент» стандартным образом без удаления предыдущей версии. Инструкция приведена в документе «Web-клиент. Руководство администратора».

. Установите новую версию модуля «Web-клиент» стандартным образом без удаления предыдущей версии. Инструкция приведена в документе «Web-клиент. Руководство администратора».

После завершения установки будет запущен мастер настройки.

image:confMasterWithUpdateMode.png[Мастер настройки с режимом обновления]

. Нажмите кнопку *Обновление*.

В процессе обновления стандартные решения Web-клиента в базе данных по умолчанию будут перезаписаны.

. Дождитесь завершения процесса и закройте мастер настройки.

. Если файл `web.config` предыдущей версии был модифицирован при настройке Web-клиента, и данные изменения требуется перенести в новую версию, выполните перенос вручную из резервной копии файла, созданной на шаге 1.

. При обновлении также происходит проверка параметра LoadLayouts в файле конфигурации по адресу `%LocalAppData%\DocsVision\WebClientAdminConsole.config`. В зависимости от значения true или false разметки будут автоматически загружены в базу данных или администратору нужно будет импортировать их вручную позднее.

. Запустите остановленный пул приложений «DocsvisionSitePool».

. Проверьте работоспособность Модуля.

. При использовании кластера Web-клиент установите новую версию Модуля на всех узлах.
+
NOTE: Перед обновлением измените тип подключения Web-клиента к серверу Docsvision, если аналогичная операция была выполнена на шаге 3.
+
. После обновления Модуля на клиентских компьютерах должна быть обновлена программа «DVWebTool».

Обновление будет выполнено автоматически при запуске программы «DVWebTool», если она установлена.