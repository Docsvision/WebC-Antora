= Порядок обновления на новую версию {wc}а

.Порядок обновления:
. С помощью "Мастера добавления ролей и компонентов" установите компонент "Инициализация приложений" ("Application Initialization"):
+
.Компоненты IIS в Мастере добавления ролей и компонентов
image::applicationInitialization.png[Компоненты IIS в Мастере добавления ролей и компонентов]
+
. Создайте резервную копию каталога установки {wc}а.

. Остановите пул приложений "{dv}SitePool" на компьютере с сервером {wc}а.

. Установите новую версию серверного расширения {wc} стандартным образом без удаления предыдущей версии. Инструкция приведена в документе "{wc}. Руководство администратора".

. xref:admin:updateWebC.adoc[Установите] новую версию модуля {wc} стандартным образом без удаления предыдущей версии.
+
После завершения установки будет запущен мастер настройки.
+
.Мастер настройки с режимом обновления
image::confMasterWithUpdateMode.png[Мастер настройки с режимом обновления]
+
. Нажмите кнопку *Обновление*.
+
В процессе обновления стандартные решения {wc}а в базе данных по умолчанию будут перезаписаны.
+
. Дождитесь завершения процесса и закройте мастер настройки.

. Если файл `web.config` предыдущей версии был модифицирован при настройке {wc}а, и данные изменения требуется перенести в новую версию, выполните перенос вручную из резервной копии файла, созданной на шаге 1.

. При обновлении также происходит проверка параметра *_LoadLayouts_* в файле конфигурации по адресу `%LocalAppData%Docsvision\WebClientAdminConsole.config`. В зависимости от значения *_true_* или *_false_* разметки будут автоматически загружены в базу данных или администратору нужно будет импортировать их вручную позднее.

. Запустите остановленный пул приложений "{dv}SitePool".

. Проверьте работоспособность Модуля.

. При использовании кластера {wc} установите новую версию Модуля на всех узлах.
+
NOTE: Перед обновлением измените тип подключения {wc}а к серверу {dv}, если аналогичная операция была выполнена на шаге 3.
+
. После обновления {wc} на клиентских компьютерах должна быть обновлена программа _DVWebTool_.

Обновление будет выполнено автоматически при запуске программы _DVWebTool_, если она установлена.